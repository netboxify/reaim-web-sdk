!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("reaim-web-sdk",[],e):"object"==typeof exports?exports["reaim-web-sdk"]=e():t["reaim-web-sdk"]=e()}("undefined"!=typeof self?self:this,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.REAIM_CLICK=e.REAIM_IMPRESSION=e.REAIM_STORAGE_NAME=e.REAIM_SUBS_API=e.REAIM_EVENTS_API=e.REAIM_SAVE_SUBSCRIPTION=e.REAIM_RETRY_USER=e.REAIM_UID=e.REAIM_PUSH_USER_SUBSCRIBED=e.REAIM_DENIED_ON_VISITS=e.REAIM_SDK_VISITS=e.PRODUCTION=void 0;e.PRODUCTION=!0;e.REAIM_SDK_VISITS="reaim_sdk_visits";e.REAIM_DENIED_ON_VISITS="reaim_sdk_denied_on_visits";e.REAIM_PUSH_USER_SUBSCRIBED="reaim_sdk_push_user_subscribed";e.REAIM_UID="reaim_sdk_uid";e.REAIM_RETRY_USER="reaim_sdk_retry_user";e.REAIM_SAVE_SUBSCRIPTION="reaim_save_subscription";e.REAIM_EVENTS_API="https://events.reaim.me";e.REAIM_SUBS_API="https://subs.reaim.me";e.REAIM_STORAGE_NAME="reaim_sdk_storage";e.REAIM_IMPRESSION="i";e.REAIM_CLICK="c"},function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(t,e,n,r){var o=e&&e.prototype instanceof l?e:l,i=Object.create(o.prototype),a=new b(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return I()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=g(a,n);if(c){if(c===s)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var s={};function l(){}function f(){}function h(){}var d={};d[o]=function(){return this};var p=Object.getPrototypeOf,v=p&&p(p(w([])));v&&v!==e&&n.call(v,o)&&(d=v);var y=h.prototype=l.prototype=Object.create(d);function _(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function E(t,e){var r;this._invoke=function(o,i){function a(){return new e((function(r,a){!function r(o,i,a,c){var s=u(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function g(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,g(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,s;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function m(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function b(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(m,this),this.reset(!0)}function w(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return f.prototype=y.constructor=h,h.constructor=f,h[a]=f.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},_(E.prototype),E.prototype[i]=function(){return this},t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new E(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(y),y[a]="Generator",y[o]=function(){return this},y.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=w,b.prototype={constructor:b,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:w(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},,,,,function(t,e,n){"use strict";var r=a(n(1)),o=a(n(7)),i=n(0);function a(t){return t&&t.__esModule?t:{default:t}}function c(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,u,"next",t)}function u(t){c(i,r,o,a,u,"throw",t)}a(void 0)}))}}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l=new o.default(i.REAIM_STORAGE_NAME,1),f=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o,a,c,f,h,d,p,v;return e=t,n=null,o=[{key:"log",value:(v=u(r.default.mark((function t(e,n,o){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e&&n&&o)){t.next=10;break}t.t0=o,t.next="cmp"===t.t0?4:"trg"===t.t0?6:"feed"===t.t0?8:10;break;case 4:return fetch("".concat(i.REAIM_EVENTS_API,"/log?k=").concat(e,"&").concat(atob(n))),t.abrupt("break",10);case 6:return fetch("".concat(i.REAIM_EVENTS_API,"/trigger?k=").concat(e,"&").concat(atob(n))),t.abrupt("break",10);case 8:return fetch("".concat(i.REAIM_EVENTS_API,"/feed?k=").concat(e,"&").concat(atob(n))),t.abrupt("break",10);case 10:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return v.apply(this,arguments)})},{key:"updateSubscription",value:(p=u(r.default.mark((function t(e){var n,o;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{(n=localStorage.getItem(i.REAIM_UID))&&(o=new Request("".concat(i.REAIM_SUBS_API,"/refresh"),{method:"POST",body:JSON.stringify({id:n,endpoint:e.endpoint,auth:e.keys.auth,p256dh:e.keys.p256dh})}),self.fetch(o))}catch(t){console.log(t)}case 1:case"end":return t.stop()}}),t,this)}))),function(t){return p.apply(this,arguments)})},{key:"handleInstall",value:function(t){self.skipWaiting()}},{key:"handleActivate",value:function(t){t.waitUntil(self.clients.claim())}},{key:"handlePushEvent",value:(d=u(r.default.mark((function e(n){var o,a,c;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.data.json(),a=o.c.t,c={body:o.c.d,icon:o.c.i,image:o.c.m,badge:o.c.b,actions:o.c.a,data:{tracking:o.t,url:o.c.u,actions:o.c.a,variant:o.v}},t.log(i.REAIM_IMPRESSION,o.t,o.v),n.waitUntil(self.registration.showNotification(a,c));case 5:case"end":return e.stop()}}),e,this)}))),function(t){return d.apply(this,arguments)})},{key:"handleClickEvent",value:(h=u(r.default.mark((function e(n){var o,a,c,u;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.notification.close(),o=n.notification.data.tracking,a=n.notification.data.variant||"cmp","action-1"===n.action?(c=n.notification.data.actions[0].url,t.log(i.REAIM_CLICK,o,a),n.waitUntil(self.clients.openWindow(c))):"action-2"===n.action?(u=n.notification.data.actions[1].url,t.log(i.REAIM_CLICK,o,a),n.waitUntil(self.clients.openWindow(u))):n.notification.data.url&&(t.log(i.REAIM_CLICK,o,a),n.waitUntil(self.clients.openWindow(n.notification.data.url)));case 4:case"end":return e.stop()}}),e,this)}))),function(t){return h.apply(this,arguments)})},{key:"handleUpdateSubscription",value:(f=u(r.default.mark((function e(n){var o,i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,self.registration.pushManager.getSubscription();case 2:return o=e.sent,e.t0=JSON,e.next=6,l.getItem("subscription");case 6:e.t1=e.sent,(i=e.t0.parse.call(e.t0,e.t1))||(t.saveLocalSubscription(o),t.updateSubscription(o)),o&&i&&o.endpoint!==i.endpoint&&(t.saveLocalSubscription(o),t.updateSubscription(o));case 10:case"end":return e.stop()}}),e,this)}))),function(t){return f.apply(this,arguments)})},{key:"saveLocalSubscription",value:(c=u(r.default.mark((function t(e){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.setItem("subscription",e);case 2:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"handleMessage",value:(a=u(r.default.mark((function e(n){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.data.action===i.REAIM_SAVE_SUBSCRIPTION&&n.waitUntil(t.saveLocalSubscription(n.data.subscription));case 1:case"end":return e.stop()}}),e,this)}))),function(t){return a.apply(this,arguments)})}],n&&s(e.prototype,n),o&&s(e,o),t}();self.addEventListener("install",f.handleInstall),self.addEventListener("activate",f.handleActivate),self.addEventListener("push",f.handlePushEvent),self.addEventListener("notificationclick",f.handleClickEvent),self.addEventListener("pushsubscriptionchange",f.handleUpdateSubscription),self.addEventListener("message",f.handleMessage)},function(t,e,n){"use strict";var r=n(8);t.exports=r.ServiceWorkerStorage},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.promisify=i;var o=e.IDB_TRANSACTION_MODE={readonly:"readonly",readwrite:"readwrite",versionchange:"versionchange"};function i(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=n}))}e.ServiceWorkerStorage=function(){function t(e,n){var r=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof e)throw new TypeError("db_name must be string.");if("number"!=typeof n)throw new TypeError("version must be number.");var o=n;this.DB_NAME=e,this.STORE_NAME="sw_storage";var a=self.indexedDB.open(this.DB_NAME,o);a.onupgradeneeded=function(t){var e=t.target.result;e.objectStoreNames&&e.objectStoreNames.contains(r.STORE_NAME)||e.createObjectStore(r.STORE_NAME)},this.__db=i(a)}return r(t,[{key:"_accessAsyncStore",value:function(t){var e=this;return this.__db.then((function(n){return n.transaction(e.STORE_NAME,t).objectStore(e.STORE_NAME)}))}},{key:"length",value:function(){return this._accessAsyncStore(o.readonly).then((function(t){return i(t.getAllKeys())})).then((function(t){return t.length}))}},{key:"key",value:function(t){return arguments.length?("number"!=typeof t&&(t=0),this._accessAsyncStore(o.readonly).then((function(t){return i(t.getAllKeys())})).then((function(e){return e[t]||null}))):Promise.reject(new TypeError('Failed to execute "key" on "Storage"'))}},{key:"getItem",value:function(t){return this._accessAsyncStore(o.readonly).then((function(e){return e.get(t)})).then(i)}},{key:"setItem",value:function(t,e){return this._accessAsyncStore(o.readwrite).then((function(n){return n.put(e,t)})).then(i)}},{key:"removeItem",value:function(t){return this._accessAsyncStore(o.readwrite).then((function(e){return e.delete(t)})).then(i)}},{key:"clear",value:function(){return this.__db.then((function(t){for(var e=t.transaction(t.objectStoreNames,o.readwrite),n=[],r=0,a=t.objectStoreNames.length;r<a;r++){var c=t.objectStoreNames[r];n.push(i(e.objectStore(c).clear()))}return Promise.all(n)}))}}]),t}()}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFpbS13ZWItc2RrL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9yZWFpbS13ZWItc2RrL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3JlYWltLXdlYi1zZGsvLi9zcmMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3JlYWltLXdlYi1zZGsvLi9ub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIiwid2VicGFjazovL3JlYWltLXdlYi1zZGsvLi9zcmMvc3cuanMiLCJ3ZWJwYWNrOi8vcmVhaW0td2ViLXNkay8uL25vZGVfbW9kdWxlcy9zZXJ2aWNld29ya2VyLXN0b3JhZ2UvbGliL2luZGV4LmpzIiwid2VicGFjazovL3JlYWltLXdlYi1zZGsvLi9ub2RlX21vZHVsZXMvc2VydmljZXdvcmtlci1zdG9yYWdlL2xpYi9TZXJ2aWNlV29ya2VyU3RvcmFnZS5qcyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJzZWxmIiwidGhpcyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJydW50aW1lIiwiT3AiLCJoYXNPd24iLCIkU3ltYm9sIiwiaXRlcmF0b3JTeW1ib2wiLCJpdGVyYXRvciIsImFzeW5jSXRlcmF0b3JTeW1ib2wiLCJhc3luY0l0ZXJhdG9yIiwidG9TdHJpbmdUYWdTeW1ib2wiLCJ3cmFwIiwiaW5uZXJGbiIsIm91dGVyRm4iLCJ0cnlMb2NzTGlzdCIsInByb3RvR2VuZXJhdG9yIiwiR2VuZXJhdG9yIiwiZ2VuZXJhdG9yIiwiY29udGV4dCIsIkNvbnRleHQiLCJfaW52b2tlIiwic3RhdGUiLCJtZXRob2QiLCJhcmciLCJFcnJvciIsImRvbmVSZXN1bHQiLCJkZWxlZ2F0ZSIsImRlbGVnYXRlUmVzdWx0IiwibWF5YmVJbnZva2VEZWxlZ2F0ZSIsIkNvbnRpbnVlU2VudGluZWwiLCJzZW50IiwiX3NlbnQiLCJkaXNwYXRjaEV4Y2VwdGlvbiIsImFicnVwdCIsInJlY29yZCIsInRyeUNhdGNoIiwidHlwZSIsImRvbmUiLCJtYWtlSW52b2tlTWV0aG9kIiwiZm4iLCJvYmoiLCJlcnIiLCJHZW5lcmF0b3JGdW5jdGlvbiIsIkdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlIiwiSXRlcmF0b3JQcm90b3R5cGUiLCJnZXRQcm90byIsImdldFByb3RvdHlwZU9mIiwiTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUiLCJ2YWx1ZXMiLCJHcCIsImRlZmluZUl0ZXJhdG9yTWV0aG9kcyIsImZvckVhY2giLCJBc3luY0l0ZXJhdG9yIiwiUHJvbWlzZUltcGwiLCJwcmV2aW91c1Byb21pc2UiLCJjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyIsInJlc29sdmUiLCJyZWplY3QiLCJpbnZva2UiLCJyZXN1bHQiLCJfX2F3YWl0IiwidGhlbiIsInVud3JhcHBlZCIsImVycm9yIiwidW5kZWZpbmVkIiwiVHlwZUVycm9yIiwiaW5mbyIsInJlc3VsdE5hbWUiLCJuZXh0IiwibmV4dExvYyIsInB1c2hUcnlFbnRyeSIsImxvY3MiLCJlbnRyeSIsInRyeUxvYyIsImNhdGNoTG9jIiwiZmluYWxseUxvYyIsImFmdGVyTG9jIiwidHJ5RW50cmllcyIsInB1c2giLCJyZXNldFRyeUVudHJ5IiwiY29tcGxldGlvbiIsInJlc2V0IiwiaXRlcmFibGUiLCJpdGVyYXRvck1ldGhvZCIsImlzTmFOIiwibGVuZ3RoIiwiY29uc3RydWN0b3IiLCJkaXNwbGF5TmFtZSIsImlzR2VuZXJhdG9yRnVuY3Rpb24iLCJnZW5GdW4iLCJjdG9yIiwibWFyayIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiYXdyYXAiLCJhc3luYyIsIlByb21pc2UiLCJpdGVyIiwidG9TdHJpbmciLCJrZXlzIiwicmV2ZXJzZSIsInBvcCIsInNraXBUZW1wUmVzZXQiLCJwcmV2IiwiY2hhckF0Iiwic2xpY2UiLCJzdG9wIiwicm9vdFJlY29yZCIsInJ2YWwiLCJleGNlcHRpb24iLCJoYW5kbGUiLCJsb2MiLCJjYXVnaHQiLCJoYXNDYXRjaCIsImhhc0ZpbmFsbHkiLCJmaW5hbGx5RW50cnkiLCJjb21wbGV0ZSIsImZpbmlzaCIsInRocm93biIsImRlbGVnYXRlWWllbGQiLCJyZWdlbmVyYXRvclJ1bnRpbWUiLCJhY2NpZGVudGFsU3RyaWN0TW9kZSIsIkZ1bmN0aW9uIiwic3RvcmFnZSIsIlJlQWltU1ciLCJraW5kIiwidHJhY2tpbmciLCJ2YXJpYW50IiwiZmV0Y2giLCJhdG9iIiwic3Vic2NyaXB0aW9uIiwiaWQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicmVxIiwiUmVxdWVzdCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiZW5kcG9pbnQiLCJhdXRoIiwicDI1NmRoIiwiY29uc29sZSIsImxvZyIsImV2ZW50Iiwic2tpcFdhaXRpbmciLCJ3YWl0VW50aWwiLCJjbGllbnRzIiwiY2xhaW0iLCJwYXlsb2FkIiwiZGF0YSIsImpzb24iLCJ0aXRsZSIsIm9wdGlvbnMiLCJpY29uIiwiaW1hZ2UiLCJiYWRnZSIsImIiLCJhY3Rpb25zIiwiYSIsInVybCIsInUiLCJ2IiwicmVnaXN0cmF0aW9uIiwic2hvd05vdGlmaWNhdGlvbiIsIm5vdGlmaWNhdGlvbiIsImNsb3NlIiwiYWN0aW9uIiwib3BlbldpbmRvdyIsInB1c2hNYW5hZ2VyIiwiZ2V0U3Vic2NyaXB0aW9uIiwibmV3U3Vic2NyaXB0aW9uIiwib2xkU3Vic2NyaXB0aW9uIiwicGFyc2UiLCJzYXZlTG9jYWxTdWJzY3JpcHRpb24iLCJ1cGRhdGVTdWJzY3JpcHRpb24iLCJzZXRJdGVtIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZUluc3RhbGwiLCJoYW5kbGVBY3RpdmF0ZSIsImhhbmRsZVB1c2hFdmVudCIsImhhbmRsZUNsaWNrRXZlbnQiLCJoYW5kbGVVcGRhdGVTdWJzY3JpcHRpb24iLCJoYW5kbGVNZXNzYWdlIiwiX1NlcnZpY2VXb3JrZXJTdG9yYWdlIiwiU2VydmljZVdvcmtlclN0b3JhZ2UiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJDb25zdHJ1Y3RvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInByb21pc2lmeSIsIklEQl9UUkFOU0FDVElPTl9NT0RFIiwicmVhZG9ubHkiLCJyZWFkd3JpdGUiLCJ2ZXJzaW9uY2hhbmdlIiwiaWRiUmVxdWVzdCIsIm9uc3VjY2VzcyIsIm9uZXJyb3IiLCJkYl9uYW1lIiwidmVyc2lvbiIsIl90aGlzIiwiaW5zdGFuY2UiLCJfY2xhc3NDYWxsQ2hlY2siLCJWRVJTSU9OIiwiREJfTkFNRSIsIlNUT1JFX05BTUUiLCJkYiIsImluZGV4ZWREQiIsIm9wZW4iLCJvbnVwZ3JhZGVuZWVkZWQiLCJfZGIiLCJvYmplY3RTdG9yZU5hbWVzIiwiY29udGFpbnMiLCJjcmVhdGVPYmplY3RTdG9yZSIsIl9fZGIiLCJfdGhpczIiLCJ0cmFuc2FjdGlvbiIsIm9iamVjdFN0b3JlIiwiX2FjY2Vzc0FzeW5jU3RvcmUiLCJzdG9yZSIsImdldEFsbEtleXMiLCJpZHgiLCJhcmd1bWVudHMiLCJwdXQiLCJxIiwibGVuIiwic3RvcmVfbmFtZSIsImNsZWFyIiwiYWxsIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUEyQ0EsRUFBTUMsR0FDMUIsaUJB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ekksTUFBSyxTQUFVb0ssR0FDMUUsT0FBT0EsRUFBTWxQLElBQUlVLE1BQ2hCb0UsS0FBS3VJLEtBRVQsQ0FDRDNNLElBQUssVUFDTE4sTUFBTyxTQUFpQk0sRUFBS04sR0FDM0IsT0FBT3JCLEtBQUtrUSxrQkFBa0IzQixFQUFxQkUsV0FBVzFJLE1BQUssU0FBVW9LLEdBQzNFLE9BQU9BLEVBQU1JLElBQUlsUCxFQUFPTSxNQUN2Qm9FLEtBQUt1SSxLQUVULENBQ0QzTSxJQUFLLGFBQ0xOLE1BQU8sU0FBb0JNLEdBQ3pCLE9BQU8zQixLQUFLa1Esa0JBQWtCM0IsRUFBcUJFLFdBQVcxSSxNQUFLLFNBQVVvSyxHQUMzRSxPQUFPQSxFQUFjLE9BQUV4TyxNQUN0Qm9FLEtBQUt1SSxLQUVULENBQ0QzTSxJQUFLLFFBQ0xOLE1BQU8sV0FDTCxPQUFPckIsS0FBSzhQLEtBQUsvSixNQUFLLFNBQVV1SixHQUc5QixJQUZBLElBQUlVLEVBQWNWLEVBQUdVLFlBQVlWLEVBQUdLLGlCQUFrQnBCLEVBQXFCRSxXQUN2RStCLEVBQUksR0FDQ3BRLEVBQUksRUFBR3FRLEVBQU1uQixFQUFHSyxpQkFBaUJwSSxPQUFRbkgsRUFBSXFRLEVBQUtyUSxJQUFLLENBQzlELElBQUlzUSxFQUFhcEIsRUFBR0ssaUJBQWlCdlAsR0FDckNvUSxFQUFFeEosS0FBS3NILEVBQVUwQixFQUFZQyxZQUFZUyxHQUFZQyxVQUV2RCxPQUFPekksUUFBUTBJLElBQUlKLFVBS2xCN0MsRUF2RmlEIiwiZmlsZSI6InJlYWltLXN3Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwicmVhaW0td2ViLXNka1wiLCBbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJyZWFpbS13ZWItc2RrXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcInJlYWltLXdlYi1zZGtcIl0gPSBmYWN0b3J5KCk7XG59KSh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogdGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDYpO1xuIiwiZXhwb3J0IGNvbnN0IFBST0RVQ1RJT04gPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKTtcbmNvbnN0IExPQ0FMX0VWRU5UU19BUEkgPSAnaHR0cDovL2xvY2FsaG9zdDo1NTU1JztcbmNvbnN0IExPQ0FMX1NVQlNfQVBJID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6NDM0Myc7XG5jb25zdCBQUk9EX0VWRU5UU19BUEkgPSAnaHR0cHM6Ly9ldmVudHMucmVhaW0ubWUnO1xuY29uc3QgUFJPRF9TVUJTX0FQSSA9ICdodHRwczovL3N1YnMucmVhaW0ubWUnO1xuXG5leHBvcnQgY29uc3QgUkVBSU1fU0RLX1ZJU0lUUyA9ICdyZWFpbV9zZGtfdmlzaXRzJztcbmV4cG9ydCBjb25zdCBSRUFJTV9ERU5JRURfT05fVklTSVRTID0gJ3JlYWltX3Nka19kZW5pZWRfb25fdmlzaXRzJztcbmV4cG9ydCBjb25zdCBSRUFJTV9QVVNIX1VTRVJfU1VCU0NSSUJFRCA9ICdyZWFpbV9zZGtfcHVzaF91c2VyX3N1YnNjcmliZWQnO1xuZXhwb3J0IGNvbnN0IFJFQUlNX1VJRCA9ICdyZWFpbV9zZGtfdWlkJztcbmV4cG9ydCBjb25zdCBSRUFJTV9SRVRSWV9VU0VSID0gJ3JlYWltX3Nka19yZXRyeV91c2VyJztcbmV4cG9ydCBjb25zdCBSRUFJTV9TQVZFX1NVQlNDUklQVElPTiA9ICdyZWFpbV9zYXZlX3N1YnNjcmlwdGlvbic7XG5leHBvcnQgY29uc3QgUkVBSU1fRVZFTlRTX0FQSSA9ICFQUk9EVUNUSU9OID8gTE9DQUxfRVZFTlRTX0FQSSA6IFBST0RfRVZFTlRTX0FQSTtcbmV4cG9ydCBjb25zdCBSRUFJTV9TVUJTX0FQSSA9ICFQUk9EVUNUSU9OID8gTE9DQUxfU1VCU19BUEkgOiBQUk9EX1NVQlNfQVBJO1xuZXhwb3J0IGNvbnN0IFJFQUlNX1NUT1JBR0VfTkFNRSA9ICdyZWFpbV9zZGtfc3RvcmFnZSc7XG5leHBvcnQgY29uc3QgUkVBSU1fSU1QUkVTU0lPTiA9ICdpJztcbmV4cG9ydCBjb25zdCBSRUFJTV9DTElDSyA9ICdjJztcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxudmFyIHJ1bnRpbWUgPSAoZnVuY3Rpb24gKGV4cG9ydHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIE9wID0gT2JqZWN0LnByb3RvdHlwZTtcbiAgdmFyIGhhc093biA9IE9wLmhhc093blByb3BlcnR5O1xuICB2YXIgdW5kZWZpbmVkOyAvLyBNb3JlIGNvbXByZXNzaWJsZSB0aGFuIHZvaWQgMC5cbiAgdmFyICRTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgPyBTeW1ib2wgOiB7fTtcbiAgdmFyIGl0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5pdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIjtcbiAgdmFyIGFzeW5jSXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLmFzeW5jSXRlcmF0b3IgfHwgXCJAQGFzeW5jSXRlcmF0b3JcIjtcbiAgdmFyIHRvU3RyaW5nVGFnU3ltYm9sID0gJFN5bWJvbC50b1N0cmluZ1RhZyB8fCBcIkBAdG9TdHJpbmdUYWdcIjtcblxuICBmdW5jdGlvbiB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gSWYgb3V0ZXJGbiBwcm92aWRlZCBhbmQgb3V0ZXJGbi5wcm90b3R5cGUgaXMgYSBHZW5lcmF0b3IsIHRoZW4gb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IuXG4gICAgdmFyIHByb3RvR2VuZXJhdG9yID0gb3V0ZXJGbiAmJiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IG91dGVyRm4gOiBHZW5lcmF0b3I7XG4gICAgdmFyIGdlbmVyYXRvciA9IE9iamVjdC5jcmVhdGUocHJvdG9HZW5lcmF0b3IucHJvdG90eXBlKTtcbiAgICB2YXIgY29udGV4dCA9IG5ldyBDb250ZXh0KHRyeUxvY3NMaXN0IHx8IFtdKTtcblxuICAgIC8vIFRoZSAuX2ludm9rZSBtZXRob2QgdW5pZmllcyB0aGUgaW1wbGVtZW50YXRpb25zIG9mIHRoZSAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMuXG4gICAgZ2VuZXJhdG9yLl9pbnZva2UgPSBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuXG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgfVxuICBleHBvcnRzLndyYXAgPSB3cmFwO1xuXG4gIC8vIFRyeS9jYXRjaCBoZWxwZXIgdG8gbWluaW1pemUgZGVvcHRpbWl6YXRpb25zLiBSZXR1cm5zIGEgY29tcGxldGlvblxuICAvLyByZWNvcmQgbGlrZSBjb250ZXh0LnRyeUVudHJpZXNbaV0uY29tcGxldGlvbi4gVGhpcyBpbnRlcmZhY2UgY291bGRcbiAgLy8gaGF2ZSBiZWVuIChhbmQgd2FzIHByZXZpb3VzbHkpIGRlc2lnbmVkIHRvIHRha2UgYSBjbG9zdXJlIHRvIGJlXG4gIC8vIGludm9rZWQgd2l0aG91dCBhcmd1bWVudHMsIGJ1dCBpbiBhbGwgdGhlIGNhc2VzIHdlIGNhcmUgYWJvdXQgd2VcbiAgLy8gYWxyZWFkeSBoYXZlIGFuIGV4aXN0aW5nIG1ldGhvZCB3ZSB3YW50IHRvIGNhbGwsIHNvIHRoZXJlJ3Mgbm8gbmVlZFxuICAvLyB0byBjcmVhdGUgYSBuZXcgZnVuY3Rpb24gb2JqZWN0LiBXZSBjYW4gZXZlbiBnZXQgYXdheSB3aXRoIGFzc3VtaW5nXG4gIC8vIHRoZSBtZXRob2QgdGFrZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIHNpbmNlIHRoYXQgaGFwcGVucyB0byBiZSB0cnVlXG4gIC8vIGluIGV2ZXJ5IGNhc2UsIHNvIHdlIGRvbid0IGhhdmUgdG8gdG91Y2ggdGhlIGFyZ3VtZW50cyBvYmplY3QuIFRoZVxuICAvLyBvbmx5IGFkZGl0aW9uYWwgYWxsb2NhdGlvbiByZXF1aXJlZCBpcyB0aGUgY29tcGxldGlvbiByZWNvcmQsIHdoaWNoXG4gIC8vIGhhcyBhIHN0YWJsZSBzaGFwZSBhbmQgc28gaG9wZWZ1bGx5IHNob3VsZCBiZSBjaGVhcCB0byBhbGxvY2F0ZS5cbiAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwibm9ybWFsXCIsIGFyZzogZm4uY2FsbChvYmosIGFyZykgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwidGhyb3dcIiwgYXJnOiBlcnIgfTtcbiAgICB9XG4gIH1cblxuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRTdGFydCA9IFwic3VzcGVuZGVkU3RhcnRcIjtcbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkWWllbGQgPSBcInN1c3BlbmRlZFlpZWxkXCI7XG4gIHZhciBHZW5TdGF0ZUV4ZWN1dGluZyA9IFwiZXhlY3V0aW5nXCI7XG4gIHZhciBHZW5TdGF0ZUNvbXBsZXRlZCA9IFwiY29tcGxldGVkXCI7XG5cbiAgLy8gUmV0dXJuaW5nIHRoaXMgb2JqZWN0IGZyb20gdGhlIGlubmVyRm4gaGFzIHRoZSBzYW1lIGVmZmVjdCBhc1xuICAvLyBicmVha2luZyBvdXQgb2YgdGhlIGRpc3BhdGNoIHN3aXRjaCBzdGF0ZW1lbnQuXG4gIHZhciBDb250aW51ZVNlbnRpbmVsID0ge307XG5cbiAgLy8gRHVtbXkgY29uc3RydWN0b3IgZnVuY3Rpb25zIHRoYXQgd2UgdXNlIGFzIHRoZSAuY29uc3RydWN0b3IgYW5kXG4gIC8vIC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgcHJvcGVydGllcyBmb3IgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIEdlbmVyYXRvclxuICAvLyBvYmplY3RzLiBGb3IgZnVsbCBzcGVjIGNvbXBsaWFuY2UsIHlvdSBtYXkgd2lzaCB0byBjb25maWd1cmUgeW91clxuICAvLyBtaW5pZmllciBub3QgdG8gbWFuZ2xlIHRoZSBuYW1lcyBvZiB0aGVzZSB0d28gZnVuY3Rpb25zLlxuICBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge31cblxuICAvLyBUaGlzIGlzIGEgcG9seWZpbGwgZm9yICVJdGVyYXRvclByb3RvdHlwZSUgZm9yIGVudmlyb25tZW50cyB0aGF0XG4gIC8vIGRvbid0IG5hdGl2ZWx5IHN1cHBvcnQgaXQuXG4gIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuICBJdGVyYXRvclByb3RvdHlwZVtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgdmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuICB2YXIgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90byAmJiBnZXRQcm90byhnZXRQcm90byh2YWx1ZXMoW10pKSk7XG4gIGlmIChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAmJlxuICAgICAgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgIT09IE9wICYmXG4gICAgICBoYXNPd24uY2FsbChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSwgaXRlcmF0b3JTeW1ib2wpKSB7XG4gICAgLy8gVGhpcyBlbnZpcm9ubWVudCBoYXMgYSBuYXRpdmUgJUl0ZXJhdG9yUHJvdG90eXBlJTsgdXNlIGl0IGluc3RlYWRcbiAgICAvLyBvZiB0aGUgcG9seWZpbGwuXG4gICAgSXRlcmF0b3JQcm90b3R5cGUgPSBOYXRpdmVJdGVyYXRvclByb3RvdHlwZTtcbiAgfVxuXG4gIHZhciBHcCA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9XG4gICAgR2VuZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUpO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHcC5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uO1xuICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZVt0b1N0cmluZ1RhZ1N5bWJvbF0gPVxuICAgIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gXCJHZW5lcmF0b3JGdW5jdGlvblwiO1xuXG4gIC8vIEhlbHBlciBmb3IgZGVmaW5pbmcgdGhlIC5uZXh0LCAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMgb2YgdGhlXG4gIC8vIEl0ZXJhdG9yIGludGVyZmFjZSBpbiB0ZXJtcyBvZiBhIHNpbmdsZSAuX2ludm9rZSBtZXRob2QuXG4gIGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhwcm90b3R5cGUpIHtcbiAgICBbXCJuZXh0XCIsIFwidGhyb3dcIiwgXCJyZXR1cm5cIl0uZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHtcbiAgICAgIHByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZva2UobWV0aG9kLCBhcmcpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIHZhciBjdG9yID0gdHlwZW9mIGdlbkZ1biA9PT0gXCJmdW5jdGlvblwiICYmIGdlbkZ1bi5jb25zdHJ1Y3RvcjtcbiAgICByZXR1cm4gY3RvclxuICAgICAgPyBjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fFxuICAgICAgICAvLyBGb3IgdGhlIG5hdGl2ZSBHZW5lcmF0b3JGdW5jdGlvbiBjb25zdHJ1Y3RvciwgdGhlIGJlc3Qgd2UgY2FuXG4gICAgICAgIC8vIGRvIGlzIHRvIGNoZWNrIGl0cyAubmFtZSBwcm9wZXJ0eS5cbiAgICAgICAgKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSA9PT0gXCJHZW5lcmF0b3JGdW5jdGlvblwiXG4gICAgICA6IGZhbHNlO1xuICB9O1xuXG4gIGV4cG9ydHMubWFyayA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihnZW5GdW4sIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2VuRnVuLl9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICAgICAgaWYgKCEodG9TdHJpbmdUYWdTeW1ib2wgaW4gZ2VuRnVuKSkge1xuICAgICAgICBnZW5GdW5bdG9TdHJpbmdUYWdTeW1ib2xdID0gXCJHZW5lcmF0b3JGdW5jdGlvblwiO1xuICAgICAgfVxuICAgIH1cbiAgICBnZW5GdW4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShHcCk7XG4gICAgcmV0dXJuIGdlbkZ1bjtcbiAgfTtcblxuICAvLyBXaXRoaW4gdGhlIGJvZHkgb2YgYW55IGFzeW5jIGZ1bmN0aW9uLCBgYXdhaXQgeGAgaXMgdHJhbnNmb3JtZWQgdG9cbiAgLy8gYHlpZWxkIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh4KWAsIHNvIHRoYXQgdGhlIHJ1bnRpbWUgY2FuIHRlc3RcbiAgLy8gYGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIilgIHRvIGRldGVybWluZSBpZiB0aGUgeWllbGRlZCB2YWx1ZSBpc1xuICAvLyBtZWFudCB0byBiZSBhd2FpdGVkLlxuICBleHBvcnRzLmF3cmFwID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHsgX19hd2FpdDogYXJnIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gQXN5bmNJdGVyYXRvcihnZW5lcmF0b3IsIFByb21pc2VJbXBsKSB7XG4gICAgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChnZW5lcmF0b3JbbWV0aG9kXSwgZ2VuZXJhdG9yLCBhcmcpO1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgcmVqZWN0KHJlY29yZC5hcmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHJlY29yZC5hcmc7XG4gICAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlICYmXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIikpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZS5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJuZXh0XCIsIHZhbHVlLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgaW52b2tlKFwidGhyb3dcIiwgZXJyLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24odW53cmFwcGVkKSB7XG4gICAgICAgICAgLy8gV2hlbiBhIHlpZWxkZWQgUHJvbWlzZSBpcyByZXNvbHZlZCwgaXRzIGZpbmFsIHZhbHVlIGJlY29tZXNcbiAgICAgICAgICAvLyB0aGUgLnZhbHVlIG9mIHRoZSBQcm9taXNlPHt2YWx1ZSxkb25lfT4gcmVzdWx0IGZvciB0aGVcbiAgICAgICAgICAvLyBjdXJyZW50IGl0ZXJhdGlvbi5cbiAgICAgICAgICByZXN1bHQudmFsdWUgPSB1bndyYXBwZWQ7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIC8vIElmIGEgcmVqZWN0ZWQgUHJvbWlzZSB3YXMgeWllbGRlZCwgdGhyb3cgdGhlIHJlamVjdGlvbiBiYWNrXG4gICAgICAgICAgLy8gaW50byB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIHNvIGl0IGNhbiBiZSBoYW5kbGVkIHRoZXJlLlxuICAgICAgICAgIHJldHVybiBpbnZva2UoXCJ0aHJvd1wiLCBlcnJvciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHByZXZpb3VzUHJvbWlzZTtcblxuICAgIGZ1bmN0aW9uIGVucXVldWUobWV0aG9kLCBhcmcpIHtcbiAgICAgIGZ1bmN0aW9uIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2VJbXBsKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcmV2aW91c1Byb21pc2UgPVxuICAgICAgICAvLyBJZiBlbnF1ZXVlIGhhcyBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gd2Ugd2FudCB0byB3YWl0IHVudGlsXG4gICAgICAgIC8vIGFsbCBwcmV2aW91cyBQcm9taXNlcyBoYXZlIGJlZW4gcmVzb2x2ZWQgYmVmb3JlIGNhbGxpbmcgaW52b2tlLFxuICAgICAgICAvLyBzbyB0aGF0IHJlc3VsdHMgYXJlIGFsd2F5cyBkZWxpdmVyZWQgaW4gdGhlIGNvcnJlY3Qgb3JkZXIuIElmXG4gICAgICAgIC8vIGVucXVldWUgaGFzIG5vdCBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRvXG4gICAgICAgIC8vIGNhbGwgaW52b2tlIGltbWVkaWF0ZWx5LCB3aXRob3V0IHdhaXRpbmcgb24gYSBjYWxsYmFjayB0byBmaXJlLFxuICAgICAgICAvLyBzbyB0aGF0IHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gaGFzIHRoZSBvcHBvcnR1bml0eSB0byBkb1xuICAgICAgICAvLyBhbnkgbmVjZXNzYXJ5IHNldHVwIGluIGEgcHJlZGljdGFibGUgd2F5LiBUaGlzIHByZWRpY3RhYmlsaXR5XG4gICAgICAgIC8vIGlzIHdoeSB0aGUgUHJvbWlzZSBjb25zdHJ1Y3RvciBzeW5jaHJvbm91c2x5IGludm9rZXMgaXRzXG4gICAgICAgIC8vIGV4ZWN1dG9yIGNhbGxiYWNrLCBhbmQgd2h5IGFzeW5jIGZ1bmN0aW9ucyBzeW5jaHJvbm91c2x5XG4gICAgICAgIC8vIGV4ZWN1dGUgY29kZSBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0LiBTaW5jZSB3ZSBpbXBsZW1lbnQgc2ltcGxlXG4gICAgICAgIC8vIGFzeW5jIGZ1bmN0aW9ucyBpbiB0ZXJtcyBvZiBhc3luYyBnZW5lcmF0b3JzLCBpdCBpcyBlc3BlY2lhbGx5XG4gICAgICAgIC8vIGltcG9ydGFudCB0byBnZXQgdGhpcyByaWdodCwgZXZlbiB0aG91Z2ggaXQgcmVxdWlyZXMgY2FyZS5cbiAgICAgICAgcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsXG4gICAgICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpbmcgZmFpbHVyZXMgdG8gUHJvbWlzZXMgcmV0dXJuZWQgYnkgbGF0ZXJcbiAgICAgICAgICAvLyBpbnZvY2F0aW9ucyBvZiB0aGUgaXRlcmF0b3IuXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmdcbiAgICAgICAgKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7XG4gICAgfVxuXG4gICAgLy8gRGVmaW5lIHRoZSB1bmlmaWVkIGhlbHBlciBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIGltcGxlbWVudCAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIChzZWUgZGVmaW5lSXRlcmF0b3JNZXRob2RzKS5cbiAgICB0aGlzLl9pbnZva2UgPSBlbnF1ZXVlO1xuICB9XG5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKTtcbiAgQXN5bmNJdGVyYXRvci5wcm90b3R5cGVbYXN5bmNJdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIGV4cG9ydHMuQXN5bmNJdGVyYXRvciA9IEFzeW5jSXRlcmF0b3I7XG5cbiAgLy8gTm90ZSB0aGF0IHNpbXBsZSBhc3luYyBmdW5jdGlvbnMgYXJlIGltcGxlbWVudGVkIG9uIHRvcCBvZlxuICAvLyBBc3luY0l0ZXJhdG9yIG9iamVjdHM7IHRoZXkganVzdCByZXR1cm4gYSBQcm9taXNlIGZvciB0aGUgdmFsdWUgb2ZcbiAgLy8gdGhlIGZpbmFsIHJlc3VsdCBwcm9kdWNlZCBieSB0aGUgaXRlcmF0b3IuXG4gIGV4cG9ydHMuYXN5bmMgPSBmdW5jdGlvbihpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCwgUHJvbWlzZUltcGwpIHtcbiAgICBpZiAoUHJvbWlzZUltcGwgPT09IHZvaWQgMCkgUHJvbWlzZUltcGwgPSBQcm9taXNlO1xuXG4gICAgdmFyIGl0ZXIgPSBuZXcgQXN5bmNJdGVyYXRvcihcbiAgICAgIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpLFxuICAgICAgUHJvbWlzZUltcGxcbiAgICApO1xuXG4gICAgcmV0dXJuIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbihvdXRlckZuKVxuICAgICAgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci5cbiAgICAgIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0LmRvbmUgPyByZXN1bHQudmFsdWUgOiBpdGVyLm5leHQoKTtcbiAgICAgICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7XG4gICAgdmFyIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydDtcblxuICAgIHJldHVybiBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVFeGVjdXRpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUNvbXBsZXRlZCkge1xuICAgICAgICBpZiAobWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICB0aHJvdyBhcmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZSBmb3JnaXZpbmcsIHBlciAyNS4zLjMuMy4zIG9mIHRoZSBzcGVjOlxuICAgICAgICAvLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtZ2VuZXJhdG9ycmVzdW1lXG4gICAgICAgIHJldHVybiBkb25lUmVzdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnRleHQubWV0aG9kID0gbWV0aG9kO1xuICAgICAgY29udGV4dC5hcmcgPSBhcmc7XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XG4gICAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICAgIHZhciBkZWxlZ2F0ZVJlc3VsdCA9IG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0ID09PSBDb250aW51ZVNlbnRpbmVsKSBjb250aW51ZTtcbiAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZVJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgLy8gU2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgICAgICBjb250ZXh0LnNlbnQgPSBjb250ZXh0Ll9zZW50ID0gY29udGV4dC5hcmc7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0KSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgICAgdGhyb3cgY29udGV4dC5hcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZyk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgIGNvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQuYXJnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlID0gR2VuU3RhdGVFeGVjdXRpbmc7XG5cbiAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIpIHtcbiAgICAgICAgICAvLyBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGZyb20gaW5uZXJGbiwgd2UgbGVhdmUgc3RhdGUgPT09XG4gICAgICAgICAgLy8gR2VuU3RhdGVFeGVjdXRpbmcgYW5kIGxvb3AgYmFjayBmb3IgYW5vdGhlciBpbnZvY2F0aW9uLlxuICAgICAgICAgIHN0YXRlID0gY29udGV4dC5kb25lXG4gICAgICAgICAgICA/IEdlblN0YXRlQ29tcGxldGVkXG4gICAgICAgICAgICA6IEdlblN0YXRlU3VzcGVuZGVkWWllbGQ7XG5cbiAgICAgICAgICBpZiAocmVjb3JkLmFyZyA9PT0gQ29udGludWVTZW50aW5lbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiByZWNvcmQuYXJnLFxuICAgICAgICAgICAgZG9uZTogY29udGV4dC5kb25lXG4gICAgICAgICAgfTtcblxuICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgIC8vIERpc3BhdGNoIHRoZSBleGNlcHRpb24gYnkgbG9vcGluZyBiYWNrIGFyb3VuZCB0byB0aGVcbiAgICAgICAgICAvLyBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKSBjYWxsIGFib3ZlLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBDYWxsIGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXShjb250ZXh0LmFyZykgYW5kIGhhbmRsZSB0aGVcbiAgLy8gcmVzdWx0LCBlaXRoZXIgYnkgcmV0dXJuaW5nIGEgeyB2YWx1ZSwgZG9uZSB9IHJlc3VsdCBmcm9tIHRoZVxuICAvLyBkZWxlZ2F0ZSBpdGVyYXRvciwgb3IgYnkgbW9kaWZ5aW5nIGNvbnRleHQubWV0aG9kIGFuZCBjb250ZXh0LmFyZyxcbiAgLy8gc2V0dGluZyBjb250ZXh0LmRlbGVnYXRlIHRvIG51bGwsIGFuZCByZXR1cm5pbmcgdGhlIENvbnRpbnVlU2VudGluZWwuXG4gIGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdO1xuICAgIGlmIChtZXRob2QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQSAudGhyb3cgb3IgLnJldHVybiB3aGVuIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgbm8gLnRocm93XG4gICAgICAvLyBtZXRob2QgYWx3YXlzIHRlcm1pbmF0ZXMgdGhlIHlpZWxkKiBsb29wLlxuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIC8vIE5vdGU6IFtcInJldHVyblwiXSBtdXN0IGJlIHVzZWQgZm9yIEVTMyBwYXJzaW5nIGNvbXBhdGliaWxpdHkuXG4gICAgICAgIGlmIChkZWxlZ2F0ZS5pdGVyYXRvcltcInJldHVyblwiXSkge1xuICAgICAgICAgIC8vIElmIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgYSByZXR1cm4gbWV0aG9kLCBnaXZlIGl0IGFcbiAgICAgICAgICAvLyBjaGFuY2UgdG8gY2xlYW4gdXAuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInJldHVyblwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIC8vIElmIG1heWJlSW52b2tlRGVsZWdhdGUoY29udGV4dCkgY2hhbmdlZCBjb250ZXh0Lm1ldGhvZCBmcm9tXG4gICAgICAgICAgICAvLyBcInJldHVyblwiIHRvIFwidGhyb3dcIiwgbGV0IHRoYXQgb3ZlcnJpZGUgdGhlIFR5cGVFcnJvciBiZWxvdy5cbiAgICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kXCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2gobWV0aG9kLCBkZWxlZ2F0ZS5pdGVyYXRvciwgY29udGV4dC5hcmcpO1xuXG4gICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgaW5mbyA9IHJlY29yZC5hcmc7XG5cbiAgICBpZiAoISBpbmZvKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICBpZiAoaW5mby5kb25lKSB7XG4gICAgICAvLyBBc3NpZ24gdGhlIHJlc3VsdCBvZiB0aGUgZmluaXNoZWQgZGVsZWdhdGUgdG8gdGhlIHRlbXBvcmFyeVxuICAgICAgLy8gdmFyaWFibGUgc3BlY2lmaWVkIGJ5IGRlbGVnYXRlLnJlc3VsdE5hbWUgKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHRbZGVsZWdhdGUucmVzdWx0TmFtZV0gPSBpbmZvLnZhbHVlO1xuXG4gICAgICAvLyBSZXN1bWUgZXhlY3V0aW9uIGF0IHRoZSBkZXNpcmVkIGxvY2F0aW9uIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0Lm5leHQgPSBkZWxlZ2F0ZS5uZXh0TG9jO1xuXG4gICAgICAvLyBJZiBjb250ZXh0Lm1ldGhvZCB3YXMgXCJ0aHJvd1wiIGJ1dCB0aGUgZGVsZWdhdGUgaGFuZGxlZCB0aGVcbiAgICAgIC8vIGV4Y2VwdGlvbiwgbGV0IHRoZSBvdXRlciBnZW5lcmF0b3IgcHJvY2VlZCBub3JtYWxseS4gSWZcbiAgICAgIC8vIGNvbnRleHQubWV0aG9kIHdhcyBcIm5leHRcIiwgZm9yZ2V0IGNvbnRleHQuYXJnIHNpbmNlIGl0IGhhcyBiZWVuXG4gICAgICAvLyBcImNvbnN1bWVkXCIgYnkgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yLiBJZiBjb250ZXh0Lm1ldGhvZCB3YXNcbiAgICAgIC8vIFwicmV0dXJuXCIsIGFsbG93IHRoZSBvcmlnaW5hbCAucmV0dXJuIGNhbGwgdG8gY29udGludWUgaW4gdGhlXG4gICAgICAvLyBvdXRlciBnZW5lcmF0b3IuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgIT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmUteWllbGQgdGhlIHJlc3VsdCByZXR1cm5lZCBieSB0aGUgZGVsZWdhdGUgbWV0aG9kLlxuICAgICAgcmV0dXJuIGluZm87XG4gICAgfVxuXG4gICAgLy8gVGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGlzIGZpbmlzaGVkLCBzbyBmb3JnZXQgaXQgYW5kIGNvbnRpbnVlIHdpdGhcbiAgICAvLyB0aGUgb3V0ZXIgZ2VuZXJhdG9yLlxuICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICB9XG5cbiAgLy8gRGVmaW5lIEdlbmVyYXRvci5wcm90b3R5cGUue25leHQsdGhyb3cscmV0dXJufSBpbiB0ZXJtcyBvZiB0aGVcbiAgLy8gdW5pZmllZCAuX2ludm9rZSBoZWxwZXIgbWV0aG9kLlxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoR3ApO1xuXG4gIEdwW3RvU3RyaW5nVGFnU3ltYm9sXSA9IFwiR2VuZXJhdG9yXCI7XG5cbiAgLy8gQSBHZW5lcmF0b3Igc2hvdWxkIGFsd2F5cyByZXR1cm4gaXRzZWxmIGFzIHRoZSBpdGVyYXRvciBvYmplY3Qgd2hlbiB0aGVcbiAgLy8gQEBpdGVyYXRvciBmdW5jdGlvbiBpcyBjYWxsZWQgb24gaXQuIFNvbWUgYnJvd3NlcnMnIGltcGxlbWVudGF0aW9ucyBvZiB0aGVcbiAgLy8gaXRlcmF0b3IgcHJvdG90eXBlIGNoYWluIGluY29ycmVjdGx5IGltcGxlbWVudCB0aGlzLCBjYXVzaW5nIHRoZSBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0IHRvIG5vdCBiZSByZXR1cm5lZCBmcm9tIHRoaXMgY2FsbC4gVGhpcyBlbnN1cmVzIHRoYXQgZG9lc24ndCBoYXBwZW4uXG4gIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvaXNzdWVzLzI3NCBmb3IgbW9yZSBkZXRhaWxzLlxuICBHcFtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBHcC50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHB1c2hUcnlFbnRyeShsb2NzKSB7XG4gICAgdmFyIGVudHJ5ID0geyB0cnlMb2M6IGxvY3NbMF0gfTtcblxuICAgIGlmICgxIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmNhdGNoTG9jID0gbG9jc1sxXTtcbiAgICB9XG5cbiAgICBpZiAoMiBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXTtcbiAgICAgIGVudHJ5LmFmdGVyTG9jID0gbG9jc1szXTtcbiAgICB9XG5cbiAgICB0aGlzLnRyeUVudHJpZXMucHVzaChlbnRyeSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRyeUVudHJ5KGVudHJ5KSB7XG4gICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb24gfHwge307XG4gICAgcmVjb3JkLnR5cGUgPSBcIm5vcm1hbFwiO1xuICAgIGRlbGV0ZSByZWNvcmQuYXJnO1xuICAgIGVudHJ5LmNvbXBsZXRpb24gPSByZWNvcmQ7XG4gIH1cblxuICBmdW5jdGlvbiBDb250ZXh0KHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gVGhlIHJvb3QgZW50cnkgb2JqZWN0IChlZmZlY3RpdmVseSBhIHRyeSBzdGF0ZW1lbnQgd2l0aG91dCBhIGNhdGNoXG4gICAgLy8gb3IgYSBmaW5hbGx5IGJsb2NrKSBnaXZlcyB1cyBhIHBsYWNlIHRvIHN0b3JlIHZhbHVlcyB0aHJvd24gZnJvbVxuICAgIC8vIGxvY2F0aW9ucyB3aGVyZSB0aGVyZSBpcyBubyBlbmNsb3NpbmcgdHJ5IHN0YXRlbWVudC5cbiAgICB0aGlzLnRyeUVudHJpZXMgPSBbeyB0cnlMb2M6IFwicm9vdFwiIH1dO1xuICAgIHRyeUxvY3NMaXN0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKTtcbiAgICB0aGlzLnJlc2V0KHRydWUpO1xuICB9XG5cbiAgZXhwb3J0cy5rZXlzID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICB9XG4gICAga2V5cy5yZXZlcnNlKCk7XG5cbiAgICAvLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcFxuICAgIC8vIHRoaW5ncyBzaW1wbGUgYW5kIHJldHVybiB0aGUgbmV4dCBmdW5jdGlvbiBpdHNlbGYuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB3aGlsZSAoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXMucG9wKCk7XG4gICAgICAgIGlmIChrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgbmV4dC52YWx1ZSA9IGtleTtcbiAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUbyBhdm9pZCBjcmVhdGluZyBhbiBhZGRpdGlvbmFsIG9iamVjdCwgd2UganVzdCBoYW5nIHRoZSAudmFsdWVcbiAgICAgIC8vIGFuZCAuZG9uZSBwcm9wZXJ0aWVzIG9mZiB0aGUgbmV4dCBmdW5jdGlvbiBvYmplY3QgaXRzZWxmLiBUaGlzXG4gICAgICAvLyBhbHNvIGVuc3VyZXMgdGhhdCB0aGUgbWluaWZpZXIgd2lsbCBub3QgYW5vbnltaXplIHRoZSBmdW5jdGlvbi5cbiAgICAgIG5leHQuZG9uZSA9IHRydWU7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkge1xuICAgIGlmIChpdGVyYWJsZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdO1xuICAgICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBpdGVyYWJsZS5uZXh0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHtcbiAgICAgICAgdmFyIGkgPSAtMSwgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGl0ZXJhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkge1xuICAgICAgICAgICAgICBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV07XG4gICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXh0LnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG5leHQuZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYW4gaXRlcmF0b3Igd2l0aCBubyB2YWx1ZXMuXG4gICAgcmV0dXJuIHsgbmV4dDogZG9uZVJlc3VsdCB9O1xuICB9XG4gIGV4cG9ydHMudmFsdWVzID0gdmFsdWVzO1xuXG4gIGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICB9XG5cbiAgQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IENvbnRleHQsXG5cbiAgICByZXNldDogZnVuY3Rpb24oc2tpcFRlbXBSZXNldCkge1xuICAgICAgdGhpcy5wcmV2ID0gMDtcbiAgICAgIHRoaXMubmV4dCA9IDA7XG4gICAgICAvLyBSZXNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgIHRoaXMuc2VudCA9IHRoaXMuX3NlbnQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpO1xuXG4gICAgICBpZiAoIXNraXBUZW1wUmVzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSB7XG4gICAgICAgICAgLy8gTm90IHN1cmUgYWJvdXQgdGhlIG9wdGltYWwgb3JkZXIgb2YgdGhlc2UgY29uZGl0aW9uczpcbiAgICAgICAgICBpZiAobmFtZS5jaGFyQXQoMCkgPT09IFwidFwiICYmXG4gICAgICAgICAgICAgIGhhc093bi5jYWxsKHRoaXMsIG5hbWUpICYmXG4gICAgICAgICAgICAgICFpc05hTigrbmFtZS5zbGljZSgxKSkpIHtcbiAgICAgICAgICAgIHRoaXNbbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHN0b3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcblxuICAgICAgdmFyIHJvb3RFbnRyeSA9IHRoaXMudHJ5RW50cmllc1swXTtcbiAgICAgIHZhciByb290UmVjb3JkID0gcm9vdEVudHJ5LmNvbXBsZXRpb247XG4gICAgICBpZiAocm9vdFJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcm9vdFJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJ2YWw7XG4gICAgfSxcblxuICAgIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbihleGNlcHRpb24pIHtcbiAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHtcbiAgICAgICAgcmVjb3JkLnR5cGUgPSBcInRocm93XCI7XG4gICAgICAgIHJlY29yZC5hcmcgPSBleGNlcHRpb247XG4gICAgICAgIGNvbnRleHQubmV4dCA9IGxvYztcblxuICAgICAgICBpZiAoY2F1Z2h0KSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRpc3BhdGNoZWQgZXhjZXB0aW9uIHdhcyBjYXVnaHQgYnkgYSBjYXRjaCBibG9jayxcbiAgICAgICAgICAvLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gISEgY2F1Z2h0O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gXCJyb290XCIpIHtcbiAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZVxuICAgICAgICAgIC8vIGl0LCBzbyBzZXQgdGhlIGNvbXBsZXRpb24gdmFsdWUgb2YgdGhlIGVudGlyZSBmdW5jdGlvbiB0b1xuICAgICAgICAgIC8vIHRocm93IHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZShcImVuZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIik7XG4gICAgICAgICAgdmFyIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpO1xuXG4gICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNDYXRjaCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBhYnJ1cHQ6IGZ1bmN0aW9uKHR5cGUsIGFyZykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2ICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpICYmXG4gICAgICAgICAgICB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkgJiZcbiAgICAgICAgICAodHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgIHR5cGUgPT09IFwiY29udGludWVcIikgJiZcbiAgICAgICAgICBmaW5hbGx5RW50cnkudHJ5TG9jIDw9IGFyZyAmJlxuICAgICAgICAgIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAvLyBJZ25vcmUgdGhlIGZpbmFsbHkgZW50cnkgaWYgY29udHJvbCBpcyBub3QganVtcGluZyB0byBhXG4gICAgICAgIC8vIGxvY2F0aW9uIG91dHNpZGUgdGhlIHRyeS9jYXRjaCBibG9jay5cbiAgICAgICAgZmluYWxseUVudHJ5ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307XG4gICAgICByZWNvcmQudHlwZSA9IHR5cGU7XG4gICAgICByZWNvcmQuYXJnID0gYXJnO1xuXG4gICAgICBpZiAoZmluYWxseUVudHJ5KSB7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIHRoaXMubmV4dCA9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jO1xuICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGUocmVjb3JkKTtcbiAgICB9LFxuXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlY29yZCwgYWZ0ZXJMb2MpIHtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgcmVjb3JkLnR5cGUgPT09IFwiY29udGludWVcIikge1xuICAgICAgICB0aGlzLm5leHQgPSByZWNvcmQuYXJnO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICB0aGlzLnJ2YWwgPSB0aGlzLmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgdGhpcy5uZXh0ID0gXCJlbmRcIjtcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIgJiYgYWZ0ZXJMb2MpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gYWZ0ZXJMb2M7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG5cbiAgICBmaW5pc2g6IGZ1bmN0aW9uKGZpbmFsbHlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykge1xuICAgICAgICAgIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbiwgZW50cnkuYWZ0ZXJMb2MpO1xuICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24odHJ5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uXG4gICAgICAvLyBhcmd1bWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEga25vd24gY2F0Y2ggYmxvY2suXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7XG4gICAgfSxcblxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uKGl0ZXJhYmxlLCByZXN1bHROYW1lLCBuZXh0TG9jKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlID0ge1xuICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSxcbiAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSxcbiAgICAgICAgbmV4dExvYzogbmV4dExvY1xuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAvLyBEZWxpYmVyYXRlbHkgZm9yZ2V0IHRoZSBsYXN0IHNlbnQgdmFsdWUgc28gdGhhdCB3ZSBkb24ndFxuICAgICAgICAvLyBhY2NpZGVudGFsbHkgcGFzcyBpdCBvbiB0byB0aGUgZGVsZWdhdGUuXG4gICAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG4gIH07XG5cbiAgLy8gUmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZVxuICAvLyBvciBub3QsIHJldHVybiB0aGUgcnVudGltZSBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gZGVjbGFyZSB0aGUgdmFyaWFibGVcbiAgLy8gcmVnZW5lcmF0b3JSdW50aW1lIGluIHRoZSBvdXRlciBzY29wZSwgd2hpY2ggYWxsb3dzIHRoaXMgbW9kdWxlIHRvIGJlXG4gIC8vIGluamVjdGVkIGVhc2lseSBieSBgYmluL3JlZ2VuZXJhdG9yIC0taW5jbHVkZS1ydW50aW1lIHNjcmlwdC5qc2AuXG4gIHJldHVybiBleHBvcnRzO1xuXG59KFxuICAvLyBJZiB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGUsIHVzZSBtb2R1bGUuZXhwb3J0c1xuICAvLyBhcyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIG5hbWVzcGFjZS4gT3RoZXJ3aXNlIGNyZWF0ZSBhIG5ldyBlbXB0eVxuICAvLyBvYmplY3QuIEVpdGhlciB3YXksIHRoZSByZXN1bHRpbmcgb2JqZWN0IHdpbGwgYmUgdXNlZCB0byBpbml0aWFsaXplXG4gIC8vIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgdmFyaWFibGUgYXQgdGhlIHRvcCBvZiB0aGlzIGZpbGUuXG4gIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgPyBtb2R1bGUuZXhwb3J0cyA6IHt9XG4pKTtcblxudHJ5IHtcbiAgcmVnZW5lcmF0b3JSdW50aW1lID0gcnVudGltZTtcbn0gY2F0Y2ggKGFjY2lkZW50YWxTdHJpY3RNb2RlKSB7XG4gIC8vIFRoaXMgbW9kdWxlIHNob3VsZCBub3QgYmUgcnVubmluZyBpbiBzdHJpY3QgbW9kZSwgc28gdGhlIGFib3ZlXG4gIC8vIGFzc2lnbm1lbnQgc2hvdWxkIGFsd2F5cyB3b3JrIHVubGVzcyBzb21ldGhpbmcgaXMgbWlzY29uZmlndXJlZC4gSnVzdFxuICAvLyBpbiBjYXNlIHJ1bnRpbWUuanMgYWNjaWRlbnRhbGx5IHJ1bnMgaW4gc3RyaWN0IG1vZGUsIHdlIGNhbiBlc2NhcGVcbiAgLy8gc3RyaWN0IG1vZGUgdXNpbmcgYSBnbG9iYWwgRnVuY3Rpb24gY2FsbC4gVGhpcyBjb3VsZCBjb25jZWl2YWJseSBmYWlsXG4gIC8vIGlmIGEgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgZm9yYmlkcyB1c2luZyBGdW5jdGlvbiwgYnV0IGluIHRoYXQgY2FzZVxuICAvLyB0aGUgcHJvcGVyIHNvbHV0aW9uIGlzIHRvIGZpeCB0aGUgYWNjaWRlbnRhbCBzdHJpY3QgbW9kZSBwcm9ibGVtLiBJZlxuICAvLyB5b3UndmUgbWlzY29uZmlndXJlZCB5b3VyIGJ1bmRsZXIgdG8gZm9yY2Ugc3RyaWN0IG1vZGUgYW5kIGFwcGxpZWQgYVxuICAvLyBDU1AgdG8gZm9yYmlkIEZ1bmN0aW9uLCBhbmQgeW91J3JlIG5vdCB3aWxsaW5nIHRvIGZpeCBlaXRoZXIgb2YgdGhvc2VcbiAgLy8gcHJvYmxlbXMsIHBsZWFzZSBkZXRhaWwgeW91ciB1bmlxdWUgcHJlZGljYW1lbnQgaW4gYSBHaXRIdWIgaXNzdWUuXG4gIEZ1bmN0aW9uKFwiclwiLCBcInJlZ2VuZXJhdG9yUnVudGltZSA9IHJcIikocnVudGltZSk7XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IHJlZ2VuZXJhdG9yUnVudGltZSBmcm9tICdyZWdlbmVyYXRvci1ydW50aW1lJztcbi8qIGVzbGludC1lbmFibGUgKi9cbmltcG9ydCBTZXJ2aWNlV29ya2VyU3RvcmFnZSBmcm9tICdzZXJ2aWNld29ya2VyLXN0b3JhZ2UnO1xuaW1wb3J0IHtcbiAgUkVBSU1fU0FWRV9TVUJTQ1JJUFRJT04sXG4gIFJFQUlNX0VWRU5UU19BUEksXG4gIFJFQUlNX1NVQlNfQVBJLFxuICBSRUFJTV9TVE9SQUdFX05BTUUsXG4gIFJFQUlNX0lNUFJFU1NJT04sXG4gIFJFQUlNX0NMSUNLLFxuICBSRUFJTV9VSURcbn0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5jb25zdCBzdG9yYWdlID0gbmV3IFNlcnZpY2VXb3JrZXJTdG9yYWdlKFJFQUlNX1NUT1JBR0VfTkFNRSwgMSk7XG5cbmNsYXNzIFJlQWltU1cge1xuXG4gIHN0YXRpYyBhc3luYyBsb2coa2luZCwgdHJhY2tpbmcsIHZhcmlhbnQpIHtcbiAgICBpZiAoa2luZCAmJiB0cmFja2luZyAmJiB2YXJpYW50KSB7XG4gICAgICBzd2l0Y2ggKHZhcmlhbnQpIHtcbiAgICAgICAgY2FzZSAnY21wJzpcbiAgICAgICAgICBmZXRjaChgJHtSRUFJTV9FVkVOVFNfQVBJfS9sb2c/az0ke2tpbmR9JiR7YXRvYih0cmFja2luZyl9YCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RyZyc6XG4gICAgICAgICAgZmV0Y2goYCR7UkVBSU1fRVZFTlRTX0FQSX0vdHJpZ2dlcj9rPSR7a2luZH0mJHthdG9iKHRyYWNraW5nKX1gKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZmVlZCc6XG4gICAgICAgICAgZmV0Y2goYCR7UkVBSU1fRVZFTlRTX0FQSX0vZmVlZD9rPSR7a2luZH0mJHthdG9iKHRyYWNraW5nKX1gKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgdXBkYXRlU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbikge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBpZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFJFQUlNX1VJRCk7XG5cbiAgICAgIGlmIChpZCkge1xuICAgICAgICBjb25zdCByZXEgPSBuZXcgUmVxdWVzdChgJHtSRUFJTV9TVUJTX0FQSX0vcmVmcmVzaGAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIGVuZHBvaW50OiBzdWJzY3JpcHRpb24uZW5kcG9pbnQsXG4gICAgICAgICAgICBhdXRoOiBzdWJzY3JpcHRpb24ua2V5cy5hdXRoLFxuICAgICAgICAgICAgcDI1NmRoOiBzdWJzY3JpcHRpb24ua2V5cy5wMjU2ZGhcbiAgICAgICAgICB9KVxuICAgICAgICB9KTtcblxuICAgICAgICBzZWxmLmZldGNoKHJlcSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBoYW5kbGVJbnN0YWxsKGV2ZW50KSB7XG4gICAgc2VsZi5za2lwV2FpdGluZygpO1xuICB9XG5cbiAgc3RhdGljIGhhbmRsZUFjdGl2YXRlKGV2ZW50KSB7XG4gICAgZXZlbnQud2FpdFVudGlsKHNlbGYuY2xpZW50cy5jbGFpbSgpKTtcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBoYW5kbGVQdXNoRXZlbnQoZXZlbnQpIHtcbiAgICBjb25zdCBwYXlsb2FkID0gZXZlbnQuZGF0YS5qc29uKCk7XG5cbiAgICBjb25zdCB0aXRsZSA9IHBheWxvYWQuYy50O1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICBib2R5OiBwYXlsb2FkLmMuZCxcbiAgICAgIGljb246IHBheWxvYWQuYy5pLFxuICAgICAgaW1hZ2U6IHBheWxvYWQuYy5tLFxuICAgICAgYmFkZ2U6IHBheWxvYWQuYy5iLFxuICAgICAgYWN0aW9uczogcGF5bG9hZC5jLmEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHRyYWNraW5nOiBwYXlsb2FkLnQsXG4gICAgICAgIHVybDogcGF5bG9hZC5jLnUsXG4gICAgICAgIGFjdGlvbnM6IHBheWxvYWQuYy5hLFxuICAgICAgICB2YXJpYW50OiBwYXlsb2FkLnZcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgUmVBaW1TVy5sb2coUkVBSU1fSU1QUkVTU0lPTiwgcGF5bG9hZC50LCBwYXlsb2FkLnYpO1xuICAgIGV2ZW50LndhaXRVbnRpbChzZWxmLnJlZ2lzdHJhdGlvbi5zaG93Tm90aWZpY2F0aW9uKHRpdGxlLCBvcHRpb25zKSk7XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgaGFuZGxlQ2xpY2tFdmVudChldmVudCkge1xuICAgIGV2ZW50Lm5vdGlmaWNhdGlvbi5jbG9zZSgpO1xuICAgIGNvbnN0IHRyYWNraW5nID0gZXZlbnQubm90aWZpY2F0aW9uLmRhdGEudHJhY2tpbmc7XG4gICAgY29uc3QgdmFyaWFudCA9IGV2ZW50Lm5vdGlmaWNhdGlvbi5kYXRhLnZhcmlhbnQgfHwgJ2NtcCc7XG5cbiAgICBpZiAoZXZlbnQuYWN0aW9uID09PSAnYWN0aW9uLTEnKSB7XG4gICAgICBjb25zdCB1cmwgPSBldmVudC5ub3RpZmljYXRpb24uZGF0YS5hY3Rpb25zWzBdLnVybDtcblxuICAgICAgUmVBaW1TVy5sb2coUkVBSU1fQ0xJQ0ssIHRyYWNraW5nLCB2YXJpYW50KTtcbiAgICAgIGV2ZW50LndhaXRVbnRpbChzZWxmLmNsaWVudHMub3BlbldpbmRvdyh1cmwpKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50LmFjdGlvbiA9PT0gJ2FjdGlvbi0yJykge1xuICAgICAgY29uc3QgdXJsID0gZXZlbnQubm90aWZpY2F0aW9uLmRhdGEuYWN0aW9uc1sxXS51cmw7XG5cbiAgICAgIFJlQWltU1cubG9nKFJFQUlNX0NMSUNLLCB0cmFja2luZywgdmFyaWFudCk7XG4gICAgICBldmVudC53YWl0VW50aWwoc2VsZi5jbGllbnRzLm9wZW5XaW5kb3codXJsKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChldmVudC5ub3RpZmljYXRpb24uZGF0YS51cmwpIHtcbiAgICAgICAgUmVBaW1TVy5sb2coUkVBSU1fQ0xJQ0ssIHRyYWNraW5nLCB2YXJpYW50KTtcbiAgICAgICAgZXZlbnQud2FpdFVudGlsKHNlbGYuY2xpZW50cy5vcGVuV2luZG93KGV2ZW50Lm5vdGlmaWNhdGlvbi5kYXRhLnVybCkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBoYW5kbGVVcGRhdGVTdWJzY3JpcHRpb24oZXZlbnQpIHtcbiAgICBjb25zdCBuZXdTdWJzY3JpcHRpb24gPSBhd2FpdCBzZWxmLnJlZ2lzdHJhdGlvbi5wdXNoTWFuYWdlci5nZXRTdWJzY3JpcHRpb24oKTtcbiAgICBjb25zdCBvbGRTdWJzY3JpcHRpb24gPSBKU09OLnBhcnNlKGF3YWl0IHN0b3JhZ2UuZ2V0SXRlbSgnc3Vic2NyaXB0aW9uJykpO1xuXG4gICAgaWYgKCFvbGRTdWJzY3JpcHRpb24pIHtcbiAgICAgIFJlQWltU1cuc2F2ZUxvY2FsU3Vic2NyaXB0aW9uKG5ld1N1YnNjcmlwdGlvbik7XG4gICAgICBSZUFpbVNXLnVwZGF0ZVN1YnNjcmlwdGlvbihuZXdTdWJzY3JpcHRpb24pO1xuICAgIH1cblxuICAgIGlmIChuZXdTdWJzY3JpcHRpb24gJiYgb2xkU3Vic2NyaXB0aW9uICYmIChuZXdTdWJzY3JpcHRpb24uZW5kcG9pbnQgIT09IG9sZFN1YnNjcmlwdGlvbi5lbmRwb2ludCkpIHtcbiAgICAgIFJlQWltU1cuc2F2ZUxvY2FsU3Vic2NyaXB0aW9uKG5ld1N1YnNjcmlwdGlvbik7XG4gICAgICBSZUFpbVNXLnVwZGF0ZVN1YnNjcmlwdGlvbihuZXdTdWJzY3JpcHRpb24pO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBzYXZlTG9jYWxTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uKSB7XG4gICAgYXdhaXQgc3RvcmFnZS5zZXRJdGVtKCdzdWJzY3JpcHRpb24nLCBzdWJzY3JpcHRpb24pO1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIGhhbmRsZU1lc3NhZ2UoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQuZGF0YS5hY3Rpb24gPT09IFJFQUlNX1NBVkVfU1VCU0NSSVBUSU9OKSB7XG4gICAgICBldmVudC53YWl0VW50aWwoUmVBaW1TVy5zYXZlTG9jYWxTdWJzY3JpcHRpb24oZXZlbnQuZGF0YS5zdWJzY3JpcHRpb24pKTtcbiAgICB9XG4gIH1cbn1cblxuc2VsZi5hZGRFdmVudExpc3RlbmVyKCdpbnN0YWxsJywgUmVBaW1TVy5oYW5kbGVJbnN0YWxsKTtcbnNlbGYuYWRkRXZlbnRMaXN0ZW5lcignYWN0aXZhdGUnLCBSZUFpbVNXLmhhbmRsZUFjdGl2YXRlKTtcbnNlbGYuYWRkRXZlbnRMaXN0ZW5lcigncHVzaCcsIFJlQWltU1cuaGFuZGxlUHVzaEV2ZW50KTtcbnNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbm90aWZpY2F0aW9uY2xpY2snLCBSZUFpbVNXLmhhbmRsZUNsaWNrRXZlbnQpO1xuc2VsZi5hZGRFdmVudExpc3RlbmVyKCdwdXNoc3Vic2NyaXB0aW9uY2hhbmdlJywgUmVBaW1TVy5oYW5kbGVVcGRhdGVTdWJzY3JpcHRpb24pO1xuc2VsZi5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgUmVBaW1TVy5oYW5kbGVNZXNzYWdlKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIF9TZXJ2aWNlV29ya2VyU3RvcmFnZSA9IHJlcXVpcmUoJy4vU2VydmljZVdvcmtlclN0b3JhZ2UuanMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBfU2VydmljZVdvcmtlclN0b3JhZ2UuU2VydmljZVdvcmtlclN0b3JhZ2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJaTR1TDNOeVl5OXBibVJsZUM1cWN5SmRMQ0p1WVcxbGN5STZXeUp0YjJSMWJHVWlMQ0psZUhCdmNuUnpJbDBzSW0xaGNIQnBibWR6SWpvaU96dEJRVUZCT3p0QlFVVkJRU3hQUVVGUFF5eFBRVUZRSWl3aVptbHNaU0k2SW1sdVpHVjRMbXB6SWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaWFXMXdiM0owSUhzZ1UyVnlkbWxqWlZkdmNtdGxjbE4wYjNKaFoyVWdmU0JtY205dElDY3VMMU5sY25acFkyVlhiM0pyWlhKVGRHOXlZV2RsTG1wekp6dGNibHh1Ylc5a2RXeGxMbVY0Y0c5eWRITWdQU0JUWlhKMmFXTmxWMjl5YTJWeVUzUnZjbUZuWlR0Y2JpSmRmUT09IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5leHBvcnRzLnByb21pc2lmeSA9IHByb21pc2lmeTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBTZXJ2aWNlV29ya2VyU3RvcmFnZVxuICovXG5cbnZhciBJREJfVFJBTlNBQ1RJT05fTU9ERSA9IGV4cG9ydHMuSURCX1RSQU5TQUNUSU9OX01PREUgPSB7XG4gIHJlYWRvbmx5OiAncmVhZG9ubHknLFxuICByZWFkd3JpdGU6ICdyZWFkd3JpdGUnLFxuICB2ZXJzaW9uY2hhbmdlOiAndmVyc2lvbmNoYW5nZSdcbn07XG5cbmZ1bmN0aW9uIHByb21pc2lmeShpZGJSZXF1ZXN0KSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgaWRiUmVxdWVzdC5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXNvbHZlKGlkYlJlcXVlc3QucmVzdWx0KTtcbiAgICB9O1xuICAgIGlkYlJlcXVlc3Qub25lcnJvciA9IHJlamVjdDtcbiAgfSk7XG59XG5cbnZhciBTZXJ2aWNlV29ya2VyU3RvcmFnZSA9IGV4cG9ydHMuU2VydmljZVdvcmtlclN0b3JhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFNlcnZpY2VXb3JrZXJTdG9yYWdlKGRiX25hbWUsIHZlcnNpb24pIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNlcnZpY2VXb3JrZXJTdG9yYWdlKTtcblxuICAgIGlmICh0eXBlb2YgZGJfbmFtZSAhPT0gJ3N0cmluZycpIHRocm93IG5ldyBUeXBlRXJyb3IoJ2RiX25hbWUgbXVzdCBiZSBzdHJpbmcuJyk7XG4gICAgaWYgKHR5cGVvZiB2ZXJzaW9uICE9PSAnbnVtYmVyJykgdGhyb3cgbmV3IFR5cGVFcnJvcigndmVyc2lvbiBtdXN0IGJlIG51bWJlci4nKTtcbiAgICB2YXIgVkVSU0lPTiA9IHZlcnNpb247XG4gICAgdGhpcy5EQl9OQU1FID0gZGJfbmFtZTtcbiAgICB0aGlzLlNUT1JFX05BTUUgPSAnc3dfc3RvcmFnZSc7XG5cbiAgICB2YXIgZGIgPSBzZWxmLmluZGV4ZWREQi5vcGVuKHRoaXMuREJfTkFNRSwgVkVSU0lPTik7XG4gICAgZGIub251cGdyYWRlbmVlZGVkID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgX2RiID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmIChfZGIub2JqZWN0U3RvcmVOYW1lcyAmJiBfZGIub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucyhfdGhpcy5TVE9SRV9OQU1FKSkgcmV0dXJuO1xuICAgICAgX2RiLmNyZWF0ZU9iamVjdFN0b3JlKF90aGlzLlNUT1JFX05BTUUpO1xuICAgIH07XG4gICAgdGhpcy5fX2RiID0gcHJvbWlzaWZ5KGRiKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhTZXJ2aWNlV29ya2VyU3RvcmFnZSwgW3tcbiAgICBrZXk6ICdfYWNjZXNzQXN5bmNTdG9yZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9hY2Nlc3NBc3luY1N0b3JlKG1vZGUpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gdGhpcy5fX2RiLnRoZW4oZnVuY3Rpb24gKGRiKSB7XG4gICAgICAgIHZhciB0cmFuc2FjdGlvbiA9IGRiLnRyYW5zYWN0aW9uKF90aGlzMi5TVE9SRV9OQU1FLCBtb2RlKTtcbiAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKF90aGlzMi5TVE9SRV9OQU1FKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2xlbmd0aCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxlbmd0aCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hY2Nlc3NBc3luY1N0b3JlKElEQl9UUkFOU0FDVElPTl9NT0RFLnJlYWRvbmx5KS50aGVuKGZ1bmN0aW9uIChzdG9yZSkge1xuICAgICAgICByZXR1cm4gcHJvbWlzaWZ5KHN0b3JlLmdldEFsbEtleXMoKSk7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChrZXlzKSB7XG4gICAgICAgIHJldHVybiBrZXlzLmxlbmd0aDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2tleScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGtleShpZHgpIHtcbiAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBUeXBlRXJyb3IoJ0ZhaWxlZCB0byBleGVjdXRlIFwia2V5XCIgb24gXCJTdG9yYWdlXCInKSk7XG4gICAgICBpZiAodHlwZW9mIGlkeCAhPT0gJ251bWJlcicpIGlkeCA9IDA7XG4gICAgICByZXR1cm4gdGhpcy5fYWNjZXNzQXN5bmNTdG9yZShJREJfVFJBTlNBQ1RJT05fTU9ERS5yZWFkb25seSkudGhlbihmdW5jdGlvbiAoc3RvcmUpIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2lmeShzdG9yZS5nZXRBbGxLZXlzKCkpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAoa2V5cykge1xuICAgICAgICByZXR1cm4ga2V5c1tpZHhdIHx8IG51bGw7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRJdGVtJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SXRlbShrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hY2Nlc3NBc3luY1N0b3JlKElEQl9UUkFOU0FDVElPTl9NT0RFLnJlYWRvbmx5KS50aGVuKGZ1bmN0aW9uIChzdG9yZSkge1xuICAgICAgICByZXR1cm4gc3RvcmUuZ2V0KGtleSk7XG4gICAgICB9KS50aGVuKHByb21pc2lmeSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2V0SXRlbScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEl0ZW0oa2V5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2FjY2Vzc0FzeW5jU3RvcmUoSURCX1RSQU5TQUNUSU9OX01PREUucmVhZHdyaXRlKS50aGVuKGZ1bmN0aW9uIChzdG9yZSkge1xuICAgICAgICByZXR1cm4gc3RvcmUucHV0KHZhbHVlLCBrZXkpO1xuICAgICAgfSkudGhlbihwcm9taXNpZnkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbW92ZUl0ZW0nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVJdGVtKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2FjY2Vzc0FzeW5jU3RvcmUoSURCX1RSQU5TQUNUSU9OX01PREUucmVhZHdyaXRlKS50aGVuKGZ1bmN0aW9uIChzdG9yZSkge1xuICAgICAgICByZXR1cm4gc3RvcmVbJ2RlbGV0ZSddKGtleSk7XG4gICAgICB9KS50aGVuKHByb21pc2lmeSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY2xlYXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGIudGhlbihmdW5jdGlvbiAoZGIpIHtcbiAgICAgICAgdmFyIHRyYW5zYWN0aW9uID0gZGIudHJhbnNhY3Rpb24oZGIub2JqZWN0U3RvcmVOYW1lcywgSURCX1RSQU5TQUNUSU9OX01PREUucmVhZHdyaXRlKTtcbiAgICAgICAgdmFyIHEgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGRiLm9iamVjdFN0b3JlTmFtZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICB2YXIgc3RvcmVfbmFtZSA9IGRiLm9iamVjdFN0b3JlTmFtZXNbaV07XG4gICAgICAgICAgcS5wdXNoKHByb21pc2lmeSh0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZV9uYW1lKS5jbGVhcigpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHEpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFNlcnZpY2VXb3JrZXJTdG9yYWdlO1xufSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWk0dUwzTnlZeTlUWlhKMmFXTmxWMjl5YTJWeVUzUnZjbUZuWlM1cWN5SmRMQ0p1WVcxbGN5STZXeUp3Y205dGFYTnBabmtpTENKSlJFSmZWRkpCVGxOQlExUkpUMDVmVFU5RVJTSXNJbkpsWVdSdmJteDVJaXdpY21WaFpIZHlhWFJsSWl3aWRtVnljMmx2Ym1Ob1lXNW5aU0lzSW1sa1lsSmxjWFZsYzNRaUxDSlFjbTl0YVhObElpd2ljbVZ6YjJ4MlpTSXNJbkpsYW1WamRDSXNJbTl1YzNWalkyVnpjeUlzSW5KbGMzVnNkQ0lzSW05dVpYSnliM0lpTENKVFpYSjJhV05sVjI5eWEyVnlVM1J2Y21GblpTSXNJbVJpWDI1aGJXVWlMQ0oyWlhKemFXOXVJaXdpVkhsd1pVVnljbTl5SWl3aVZrVlNVMGxQVGlJc0lrUkNYMDVCVFVVaUxDSlRWRTlTUlY5T1FVMUZJaXdpWkdJaUxDSnpaV3htSWl3aWFXNWtaWGhsWkVSQ0lpd2liM0JsYmlJc0ltOXVkWEJuY21Ga1pXNWxaV1JsWkNJc0lsOWtZaUlzSW1WMlpXNTBJaXdpZEdGeVoyVjBJaXdpYjJKcVpXTjBVM1J2Y21WT1lXMWxjeUlzSW1OdmJuUmhhVzV6SWl3aVkzSmxZWFJsVDJKcVpXTjBVM1J2Y21VaUxDSmZYMlJpSWl3aWJXOWtaU0lzSW5Sb1pXNGlMQ0owY21GdWMyRmpkR2x2YmlJc0ltOWlhbVZqZEZOMGIzSmxJaXdpWDJGalkyVnpjMEZ6ZVc1alUzUnZjbVVpTENKemRHOXlaU0lzSW1kbGRFRnNiRXRsZVhNaUxDSnJaWGx6SWl3aWJHVnVaM1JvSWl3aWFXUjRJaXdpWVhKbmRXMWxiblJ6SWl3aWEyVjVJaXdpWjJWMElpd2lkbUZzZFdVaUxDSndkWFFpTENKeElpd2lhU0lzSW14bGJpSXNJbk4wYjNKbFgyNWhiV1VpTENKd2RYTm9JaXdpWTJ4bFlYSWlMQ0poYkd3aVhTd2liV0Z3Y0dsdVozTWlPaUk3T3pzN096czdPMUZCVldkQ1FTeFRMRWRCUVVGQkxGTTdPenM3UVVGV2FFSTdPenM3UVVGSlR5eEpRVUZOUXl4elJFRkJkVUk3UVVGRGJFTkRMRmxCUVZVc1ZVRkVkMEk3UVVGRmJFTkRMR0ZCUVZjc1YwRkdkVUk3UVVGSGJFTkRMR2xDUVVGbE8wRkJTRzFDTEVOQlFUZENPenRCUVUxQkxGTkJRVk5LTEZOQlFWUXNRMEZCYlVKTExGVkJRVzVDTEVWQlFTdENPMEZCUTNCRExGTkJRVThzU1VGQlNVTXNUMEZCU2l4RFFVRlpMRlZCUVZORExFOUJRVlFzUlVGQmEwSkRMRTFCUVd4Q0xFVkJRVEJDTzBGQlF6TkRTQ3hsUVVGWFNTeFRRVUZZTEVkQlFYVkNMRmxCUVZjN1FVRkRhRU5HTEdOQlFWRkdMRmRCUVZkTExFMUJRVzVDTzBGQlEwUXNTMEZHUkR0QlFVZEJUQ3hsUVVGWFRTeFBRVUZZTEVkQlFYRkNTQ3hOUVVGeVFqdEJRVU5FTEVkQlRFMHNRMEZCVUR0QlFVMUVPenRKUVVWWlNTeHZRaXhYUVVGQlFTeHZRanRCUVVOWUxHZERRVUZaUXl4UFFVRmFMRVZCUVhGQ1F5eFBRVUZ5UWl4RlFVRTRRanRCUVVGQk96dEJRVUZCT3p0QlFVTTFRaXhSUVVGSkxFOUJRVTlFTEU5QlFWQXNTMEZCYlVJc1VVRkJka0lzUlVGQmFVTXNUVUZCVFN4SlFVRkpSU3hUUVVGS0xFTkJRV01zZVVKQlFXUXNRMEZCVGp0QlFVTnFReXhSUVVGSkxFOUJRVTlFTEU5QlFWQXNTMEZCYlVJc1VVRkJka0lzUlVGQmFVTXNUVUZCVFN4SlFVRkpReXhUUVVGS0xFTkJRV01zZVVKQlFXUXNRMEZCVGp0QlFVTnFReXhSUVVGTlF5eFZRVUZWUml4UFFVRm9RanRCUVVOQkxGTkJRVXRITEU5QlFVd3NSMEZCWlVvc1QwRkJaanRCUVVOQkxGTkJRVXRMTEZWQlFVd3NSMEZCYTBJc1dVRkJiRUk3TzBGQlJVRXNVVUZCVFVNc1MwRkJTME1zUzBGQlMwTXNVMEZCVEN4RFFVRmxReXhKUVVGbUxFTkJRVzlDTEV0QlFVdE1MRTlCUVhwQ0xFVkJRV3REUkN4UFFVRnNReXhEUVVGWU8wRkJRMEZITEU5QlFVZEpMR1ZCUVVnc1IwRkJjVUlzYVVKQlFWTTdRVUZETlVJc1ZVRkJUVU1zVFVGQlRVTXNUVUZCVFVNc1RVRkJUaXhEUVVGaGFFSXNUVUZCZWtJN1FVRkRRU3hWUVVGSll5eEpRVUZKUnl4blFrRkJTaXhKUVVGM1FrZ3NTVUZCU1Vjc1owSkJRVW9zUTBGQmNVSkRMRkZCUVhKQ0xFTkJRVGhDTEUxQlFVdFdMRlZCUVc1RExFTkJRVFZDTEVWQlFUUkZPMEZCUXpWRlRTeFZRVUZKU3l4cFFrRkJTaXhEUVVGelFpeE5RVUZMV0N4VlFVRXpRanRCUVVORUxFdEJTa1E3UVVGTFFTeFRRVUZMV1N4SlFVRk1MRWRCUVZrNVFpeFZRVUZWYlVJc1JVRkJWaXhEUVVGYU8wRkJRMFE3T3pzN2MwTkJSV2xDV1N4SkxFVkJRVTA3UVVGQlFUczdRVUZEZEVJc1lVRkJUeXhMUVVGTFJDeEpRVUZNTEVOQlFWVkZMRWxCUVZZc1EwRkJaU3hqUVVGTk8wRkJRekZDTEZsQlFVMURMR05CUVdOa0xFZEJRVWRqTEZkQlFVZ3NRMEZCWlN4UFFVRkxaaXhWUVVGd1FpeEZRVUZuUTJFc1NVRkJhRU1zUTBGQmNFSTdRVUZEUVN4bFFVRlBSU3haUVVGWlF5eFhRVUZhTEVOQlFYZENMRTlCUVV0b1FpeFZRVUUzUWl4RFFVRlFPMEZCUTBRc1QwRklUU3hEUVVGUU8wRkJTVVE3T3pzMlFrRkZVVHRCUVVOUUxHRkJRVThzUzBGQlMybENMR2xDUVVGTUxFTkJRWFZDYkVNc2NVSkJRWEZDUXl4UlFVRTFReXhGUVVOS09FSXNTVUZFU1N4RFFVTkRPMEZCUVVFc1pVRkJVMmhETEZWQlFWVnZReXhOUVVGTlF5eFZRVUZPTEVWQlFWWXNRMEZCVkR0QlFVRkJMRTlCUkVRc1JVRkZTa3dzU1VGR1NTeERRVVZETzBGQlFVRXNaVUZCVVUwc1MwRkJTME1zVFVGQllqdEJRVUZCTEU5QlJrUXNRMEZCVUR0QlFVZEVPenM3ZDBKQlJVZERMRWNzUlVGQlN6dEJRVU5RTEZWQlFVa3NRMEZCUTBNc1ZVRkJWVVlzVFVGQlppeEZRVUYxUWl4UFFVRlBha01zVVVGQlVVVXNUVUZCVWl4RFFVRmxMRWxCUVVsUExGTkJRVW9zUTBGQll5eHpRMEZCWkN4RFFVRm1MRU5CUVZBN1FVRkRka0lzVlVGQlNTeFBRVUZQZVVJc1IwRkJVQ3hMUVVGbExGRkJRVzVDTEVWQlFUWkNRU3hOUVVGTkxFTkJRVTQ3UVVGRE4wSXNZVUZCVHl4TFFVRkxUQ3hwUWtGQlRDeERRVUYxUW14RExIRkNRVUZ4UWtNc1VVRkJOVU1zUlVGRFNqaENMRWxCUkVrc1EwRkRRenRCUVVGQkxHVkJRVk5vUXl4VlFVRlZiME1zVFVGQlRVTXNWVUZCVGl4RlFVRldMRU5CUVZRN1FVRkJRU3hQUVVSRUxFVkJSVXBNTEVsQlJra3NRMEZGUXp0QlFVRkJMR1ZCUVZGTkxFdEJRVXRGTEVkQlFVd3NTMEZCWVN4SlFVRnlRanRCUVVGQkxFOUJSa1FzUTBGQlVEdEJRVWRFT3pzN05FSkJSVTlGTEVjc1JVRkJTenRCUVVOWUxHRkJRVThzUzBGQlMxQXNhVUpCUVV3c1EwRkJkVUpzUXl4eFFrRkJjVUpETEZGQlFUVkRMRVZCUTBvNFFpeEpRVVJKTEVOQlEwTTdRVUZCUVN4bFFVRlRTU3hOUVVGTlR5eEhRVUZPTEVOQlFWVkVMRWRCUVZZc1EwRkJWRHRCUVVGQkxFOUJSRVFzUlVGRlNsWXNTVUZHU1N4RFFVVkRhRU1zVTBGR1JDeERRVUZRTzBGQlIwUTdPenMwUWtGRFR6QkRMRWNzUlVGQlMwVXNTeXhGUVVGUE8wRkJRMnhDTEdGQlFVOHNTMEZCUzFRc2FVSkJRVXdzUTBGQmRVSnNReXh4UWtGQmNVSkZMRk5CUVRWRExFVkJRMG8yUWl4SlFVUkpMRU5CUTBNN1FVRkJRU3hsUVVGVFNTeE5RVUZOVXl4SFFVRk9MRU5CUVZWRUxFdEJRVllzUlVGQmFVSkdMRWRCUVdwQ0xFTkJRVlE3UVVGQlFTeFBRVVJFTEVWQlJVcFdMRWxCUmtrc1EwRkZRMmhETEZOQlJrUXNRMEZCVUR0QlFVZEVPenM3SzBKQlExVXdReXhITEVWQlFVczdRVUZEWkN4aFFVRlBMRXRCUVV0UUxHbENRVUZNTEVOQlFYVkNiRU1zY1VKQlFYRkNSU3hUUVVFMVF5eEZRVU5LTmtJc1NVRkVTU3hEUVVORE8wRkJRVUVzWlVGQlUwa3NUVUZCVFN4UlFVRk9MRVZCUVdkQ1RTeEhRVUZvUWl4RFFVRlVPMEZCUVVFc1QwRkVSQ3hGUVVWS1ZpeEpRVVpKTEVOQlJVTm9ReXhUUVVaRUxFTkJRVkE3UVVGSFJEczdPelJDUVVOUE8wRkJRMDRzWVVGQlR5eExRVUZMT0VJc1NVRkJUQ3hEUVVOS1JTeEpRVVJKTEVOQlEwTXNZMEZCVFR0QlFVTldMRmxCUVUxRExHTkJRV05rTEVkQlFVZGpMRmRCUVVnc1EwRkJaV1FzUjBGQlIxRXNaMEpCUVd4Q0xFVkJRVzlETVVJc2NVSkJRWEZDUlN4VFFVRjZSQ3hEUVVGd1FqdEJRVU5CTEZsQlFVMHlReXhKUVVGSkxFVkJRVlk3UVVGRFFTeGhRVUZMTEVsQlFVbERMRWxCUVVrc1EwRkJVaXhGUVVGWFF5eE5RVUZOTjBJc1IwRkJSMUVzWjBKQlFVZ3NRMEZCYjBKWkxFMUJRVEZETEVWQlFXdEVVU3hKUVVGSlF5eEhRVUYwUkN4RlFVRXlSRVFzUjBGQk0wUXNSVUZCWjBVN1FVRkRPVVFzWTBGQlNVVXNZVUZCWVRsQ0xFZEJRVWRSTEdkQ1FVRklMRU5CUVc5Q2IwSXNRMEZCY0VJc1EwRkJha0k3UVVGRFFVUXNXVUZCUlVrc1NVRkJSaXhEUVVGUGJFUXNWVUZCVldsRExGbEJRVmxETEZkQlFWb3NRMEZCZDBKbExGVkJRWGhDTEVWQlFXOURSU3hMUVVGd1F5eEZRVUZXTEVOQlFWQTdRVUZEUkR0QlFVTkVMR1ZCUVU4M1F5eFJRVUZST0VNc1IwRkJVaXhEUVVGWlRpeERRVUZhTEVOQlFWQTdRVUZEUkN4UFFWUkpMRU5CUVZBN1FVRlZSQ0lzSW1acGJHVWlPaUpUWlhKMmFXTmxWMjl5YTJWeVUzUnZjbUZuWlM1cWN5SXNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJJaThxS2x4dUlDb2dVMlZ5ZG1salpWZHZjbXRsY2xOMGIzSmhaMlZjYmlBcUwxeHVYRzVsZUhCdmNuUWdZMjl1YzNRZ1NVUkNYMVJTUVU1VFFVTlVTVTlPWDAxUFJFVWdQU0I3WEc0Z0lISmxZV1J2Ym14NU9pQW5jbVZoWkc5dWJIa25MRnh1SUNCeVpXRmtkM0pwZEdVNklDZHlaV0ZrZDNKcGRHVW5MRnh1SUNCMlpYSnphVzl1WTJoaGJtZGxPaUFuZG1WeWMybHZibU5vWVc1blpTZGNibjA3WEc1Y2JtVjRjRzl5ZENCbWRXNWpkR2x2YmlCd2NtOXRhWE5wWm5rb2FXUmlVbVZ4ZFdWemRDa2dlMXh1SUNCeVpYUjFjbTRnYm1WM0lGQnliMjFwYzJVb1puVnVZM1JwYjI0b2NtVnpiMngyWlN3Z2NtVnFaV04wS1NCN1hHNGdJQ0FnYVdSaVVtVnhkV1Z6ZEM1dmJuTjFZMk5sYzNNZ1BTQm1kVzVqZEdsdmJpZ3BJSHRjYmlBZ0lDQWdJSEpsYzI5c2RtVW9hV1JpVW1WeGRXVnpkQzV5WlhOMWJIUXBPMXh1SUNBZ0lIMDdYRzRnSUNBZ2FXUmlVbVZ4ZFdWemRDNXZibVZ5Y205eUlEMGdjbVZxWldOME8xeHVJQ0I5S1R0Y2JuMWNibHh1Wlhod2IzSjBJR05zWVhOeklGTmxjblpwWTJWWGIzSnJaWEpUZEc5eVlXZGxJSHRjYmlBZ1kyOXVjM1J5ZFdOMGIzSW9aR0pmYm1GdFpTd2dkbVZ5YzJsdmJpa2dlMXh1SUNBZ0lHbG1JQ2gwZVhCbGIyWWdaR0pmYm1GdFpTQWhQVDBnSjNOMGNtbHVaeWNwSUhSb2NtOTNJRzVsZHlCVWVYQmxSWEp5YjNJb0oyUmlYMjVoYldVZ2JYVnpkQ0JpWlNCemRISnBibWN1SnlrN1hHNGdJQ0FnYVdZZ0tIUjVjR1Z2WmlCMlpYSnphVzl1SUNFOVBTQW5iblZ0WW1WeUp5a2dkR2h5YjNjZ2JtVjNJRlI1Y0dWRmNuSnZjaWduZG1WeWMybHZiaUJ0ZFhOMElHSmxJRzUxYldKbGNpNG5LVHRjYmlBZ0lDQmpiMjV6ZENCV1JWSlRTVTlPSUQwZ2RtVnljMmx2Ymp0Y2JpQWdJQ0IwYUdsekxrUkNYMDVCVFVVZ1BTQmtZbDl1WVcxbE8xeHVJQ0FnSUhSb2FYTXVVMVJQVWtWZlRrRk5SU0E5SUNkemQxOXpkRzl5WVdkbEp6dGNibHh1SUNBZ0lHTnZibk4wSUdSaUlEMGdjMlZzWmk1cGJtUmxlR1ZrUkVJdWIzQmxiaWgwYUdsekxrUkNYMDVCVFVVc0lGWkZVbE5KVDA0cE8xeHVJQ0FnSUdSaUxtOXVkWEJuY21Ga1pXNWxaV1JsWkNBOUlHVjJaVzUwSUQwK0lIdGNiaUFnSUNBZ0lHTnZibk4wSUY5a1lpQTlJR1YyWlc1MExuUmhjbWRsZEM1eVpYTjFiSFE3WEc0Z0lDQWdJQ0JwWmlBb1gyUmlMbTlpYW1WamRGTjBiM0psVG1GdFpYTWdKaVlnWDJSaUxtOWlhbVZqZEZOMGIzSmxUbUZ0WlhNdVkyOXVkR0ZwYm5Nb2RHaHBjeTVUVkU5U1JWOU9RVTFGS1NrZ2NtVjBkWEp1TzF4dUlDQWdJQ0FnWDJSaUxtTnlaV0YwWlU5aWFtVmpkRk4wYjNKbEtIUm9hWE11VTFSUFVrVmZUa0ZOUlNrN1hHNGdJQ0FnZlR0Y2JpQWdJQ0IwYUdsekxsOWZaR0lnUFNCd2NtOXRhWE5wWm5rb1pHSXBPMXh1SUNCOVhHNWNiaUFnWDJGalkyVnpjMEZ6ZVc1alUzUnZjbVVvYlc5a1pTa2dlMXh1SUNBZ0lISmxkSFZ5YmlCMGFHbHpMbDlmWkdJdWRHaGxiaWhrWWlBOVBpQjdYRzRnSUNBZ0lDQmpiMjV6ZENCMGNtRnVjMkZqZEdsdmJpQTlJR1JpTG5SeVlXNXpZV04wYVc5dUtIUm9hWE11VTFSUFVrVmZUa0ZOUlN3Z2JXOWtaU2s3WEc0Z0lDQWdJQ0J5WlhSMWNtNGdkSEpoYm5OaFkzUnBiMjR1YjJKcVpXTjBVM1J2Y21Vb2RHaHBjeTVUVkU5U1JWOU9RVTFGS1R0Y2JpQWdJQ0I5S1R0Y2JpQWdmVnh1WEc0Z0lHeGxibWQwYUNncElIdGNiaUFnSUNCeVpYUjFjbTRnZEdocGN5NWZZV05qWlhOelFYTjVibU5UZEc5eVpTaEpSRUpmVkZKQlRsTkJRMVJKVDA1ZlRVOUVSUzV5WldGa2IyNXNlU2xjYmlBZ0lDQWdJQzUwYUdWdUtITjBiM0psSUQwK0lIQnliMjFwYzJsbWVTaHpkRzl5WlM1blpYUkJiR3hMWlhsektDa3BLVnh1SUNBZ0lDQWdMblJvWlc0b2EyVjVjeUE5UGlCclpYbHpMbXhsYm1kMGFDazdYRzRnSUgxY2JseHVJQ0JyWlhrb2FXUjRLU0I3WEc0Z0lDQWdhV1lnS0NGaGNtZDFiV1Z1ZEhNdWJHVnVaM1JvS1NCeVpYUjFjbTRnVUhKdmJXbHpaUzV5WldwbFkzUW9ibVYzSUZSNWNHVkZjbkp2Y2lnblJtRnBiR1ZrSUhSdklHVjRaV04xZEdVZ1hDSnJaWGxjSWlCdmJpQmNJbE4wYjNKaFoyVmNJaWNwS1R0Y2JpQWdJQ0JwWmlBb2RIbHdaVzltSUdsa2VDQWhQVDBnSjI1MWJXSmxjaWNwSUdsa2VDQTlJREE3WEc0Z0lDQWdjbVYwZFhKdUlIUm9hWE11WDJGalkyVnpjMEZ6ZVc1alUzUnZjbVVvU1VSQ1gxUlNRVTVUUVVOVVNVOU9YMDFQUkVVdWNtVmhaRzl1YkhrcFhHNGdJQ0FnSUNBdWRHaGxiaWh6ZEc5eVpTQTlQaUJ3Y205dGFYTnBabmtvYzNSdmNtVXVaMlYwUVd4c1MyVjVjeWdwS1NsY2JpQWdJQ0FnSUM1MGFHVnVLR3RsZVhNZ1BUNGdhMlY1YzF0cFpIaGRJSHg4SUc1MWJHd3BPMXh1SUNCOVhHNWNiaUFnWjJWMFNYUmxiU2hyWlhrcElIdGNiaUFnSUNCeVpYUjFjbTRnZEdocGN5NWZZV05qWlhOelFYTjVibU5UZEc5eVpTaEpSRUpmVkZKQlRsTkJRMVJKVDA1ZlRVOUVSUzV5WldGa2IyNXNlU2xjYmlBZ0lDQWdJQzUwYUdWdUtITjBiM0psSUQwK0lITjBiM0psTG1kbGRDaHJaWGtwS1Z4dUlDQWdJQ0FnTG5Sb1pXNG9jSEp2YldsemFXWjVLVHRjYmlBZ2ZWeHVJQ0J6WlhSSmRHVnRLR3RsZVN3Z2RtRnNkV1VwSUh0Y2JpQWdJQ0J5WlhSMWNtNGdkR2hwY3k1ZllXTmpaWE56UVhONWJtTlRkRzl5WlNoSlJFSmZWRkpCVGxOQlExUkpUMDVmVFU5RVJTNXlaV0ZrZDNKcGRHVXBYRzRnSUNBZ0lDQXVkR2hsYmloemRHOXlaU0E5UGlCemRHOXlaUzV3ZFhRb2RtRnNkV1VzSUd0bGVTa3BYRzRnSUNBZ0lDQXVkR2hsYmlod2NtOXRhWE5wWm5rcE8xeHVJQ0I5WEc0Z0lISmxiVzkyWlVsMFpXMG9hMlY1S1NCN1hHNGdJQ0FnY21WMGRYSnVJSFJvYVhNdVgyRmpZMlZ6YzBGemVXNWpVM1J2Y21Vb1NVUkNYMVJTUVU1VFFVTlVTVTlPWDAxUFJFVXVjbVZoWkhkeWFYUmxLVnh1SUNBZ0lDQWdMblJvWlc0b2MzUnZjbVVnUFQ0Z2MzUnZjbVZiSjJSbGJHVjBaU2RkS0d0bGVTa3BYRzRnSUNBZ0lDQXVkR2hsYmlod2NtOXRhWE5wWm5rcE8xeHVJQ0I5WEc0Z0lHTnNaV0Z5S0NrZ2UxeHVJQ0FnSUhKbGRIVnliaUIwYUdsekxsOWZaR0pjYmlBZ0lDQWdJQzUwYUdWdUtHUmlJRDArSUh0Y2JpQWdJQ0FnSUNBZ1kyOXVjM1FnZEhKaGJuTmhZM1JwYjI0Z1BTQmtZaTUwY21GdWMyRmpkR2x2Ymloa1lpNXZZbXBsWTNSVGRHOXlaVTVoYldWekxDQkpSRUpmVkZKQlRsTkJRMVJKVDA1ZlRVOUVSUzV5WldGa2QzSnBkR1VwTzF4dUlDQWdJQ0FnSUNCamIyNXpkQ0J4SUQwZ1cxMDdYRzRnSUNBZ0lDQWdJR1p2Y2lBb2JHVjBJR2tnUFNBd0xDQnNaVzRnUFNCa1lpNXZZbXBsWTNSVGRHOXlaVTVoYldWekxteGxibWQwYURzZ2FTQThJR3hsYmpzZ2FTc3JLU0I3WEc0Z0lDQWdJQ0FnSUNBZ2JHVjBJSE4wYjNKbFgyNWhiV1VnUFNCa1lpNXZZbXBsWTNSVGRHOXlaVTVoYldWelcybGRPMXh1SUNBZ0lDQWdJQ0FnSUhFdWNIVnphQ2h3Y205dGFYTnBabmtvZEhKaGJuTmhZM1JwYjI0dWIySnFaV04wVTNSdmNtVW9jM1J2Y21WZmJtRnRaU2t1WTJ4bFlYSW9LU2twTzF4dUlDQWdJQ0FnSUNCOVhHNGdJQ0FnSUNBZ0lISmxkSFZ5YmlCUWNtOXRhWE5sTG1Gc2JDaHhLVHRjYmlBZ0lDQWdJSDBwTzF4dUlDQjlYRzU5WEc1Y2JpSmRmUT09Il0sInNvdXJjZVJvb3QiOiIifQ==